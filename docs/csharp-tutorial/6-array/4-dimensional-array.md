---
noteId: "07eb83d07b0a11f09e8c4908c81f2975"
tags: []

---

在 C# 中，**多维数组（Multidimensional Arrays）** 是一种可以存储数据在多个维度（例如行和列，或者更多维度）的数据结构。最常见的多维数组是**二维数组**，但 C# 也支持**三维及更高维度的数组**。

下面我们将从基础概念开始，逐步深入讲解 C# 中多维数组的定义、初始化、访问、遍历、常用操作等。

---

## 一、什么是多维数组？

多维数组是指具有**两个或更多维度**的数组。最常见的是：

- **二维数组（2D）**：类似表格，有行和列。
- **三维数组（3D）**：可以想象为一个立方体，有长、宽、高。
- 更高维度的数组理论上也是支持的，但实际开发中使用较少。

---

## 二、二维数组（2D Array）

### 1. 定义与声明

二维数组的声明语法如下：

```csharp
// 声明一个二维整型数组（未初始化）
int[,] twoDimensionalArray;
```

> 语法说明：使用 **两个连续的方括号 `[,]`** 表示二维数组。

---

### 2. 初始化二维数组

#### 方式一：声明并直接初始化（指定大小 + 赋值）

```csharp
// 声明一个 2 行 3 列的二维数组，并初始化值
int[,] matrix = new int[2, 3] 
{
    {1, 2, 3},   // 第 0 行
    {4, 5, 6}    // 第 1 行
};
```

- `2` 是行数（第一个维度）
- `3` 是列数（第二个维度）

#### 方式二：先声明，后初始化（不推荐，一般直接初始化）

```csharp
int[,] matrix;          // 声明
matrix = new int[2, 3]; // 分配空间

// 然后再逐个赋值
matrix[0, 0] = 1;
matrix[0, 1] = 2;
matrix[0, 2] = 3;
matrix[1, 0] = 4;
// ...以此类推
```

---

### 3. 访问二维数组元素

通过指定 **行索引 和 列索引** 来访问：

```csharp
int value = matrix[1, 2]; // 获取第2行第3列的值（从0开始）
Console.WriteLine(value); // 输出：6
```

---

### 4. 遍历二维数组

常用 `for` 循环 或 `foreach` 循环遍历二维数组：

#### 使用 for 循环（推荐，可控制行列）

```csharp
for (int i = 0; i < matrix.GetLength(0); i++)     // 行数
{
    for (int j = 0; j < matrix.GetLength(1); j++) // 列数
    {
        Console.Write(matrix[i, j] + "\t");
    }
    Console.WriteLine();
}
```

#### 使用 foreach 循环（简单遍历，但不能获取索引）

```csharp
foreach (int num in matrix)
{
    Console.Write(num + " ");
}
// 输出：1 2 3 4 5 6
```

> 注意：`foreach` 不提供行列信息，仅用于顺序访问所有元素。

---

### 5. 获取二维数组的行数和列数

- **GetLength(0)**：获取第一维大小（通常是行数）
- **GetLength(1)**：获取第二维大小（通常是列数）

```csharp
int rows = matrix.GetLength(0); // 行数
int cols = matrix.GetLength(1); // 列数
Console.WriteLine($"行数: {rows}, 列数: {cols}");
```

---

## 三、三维数组（3D Array）

### 1. 定义与初始化

语法使用 **三个方括号 `[, ,]`**：

```csharp
// 声明一个 2x3x4 的三维数组
int[,,] threeDArray = new int[2, 3, 4];

// 或者直接初始化（比较复杂，一般较少这样写）
int[,,] cube = new int[2, 2, 2] 
{
    { 
        {1, 2}, 
        {3, 4} 
    },
    { 
        {5, 6}, 
        {7, 8} 
    }
};
```

- 第一维：2
- 第二维：2
- 第三维：2

访问方式：

```csharp
int val = cube[1, 0, 1]; // 获取第2个盒子、第1行、第2列的值
```

遍历三维数组通常需要三层嵌套循环，较为复杂，实际开发中较少使用。

---

## 四、锯齿数组（Jagged Array） vs 多维数组

⚠️ **注意：多维数组（如 `int[,]`）不同于锯齿数组（Jagged Array，如 `int[][]`）**

| 特性 | 多维数组 (`int[,]`, `int[,,]`) | 锯齿数组 (`int[][]`, `int[][][]`) |
|------|-----------------------------|-------------------------------|
| 结构 | 所有“行”长度一致，是**矩形** | 每“行”可以长度不同，是**数组的数组** |
| 声明 | `int[,]`、`int[,,]` 等 | `int[][]`、`int[][][]` 等 |
| 灵活性 | 固定维度，每维大小一致 | 更灵活，每行/层可不同长度 |
| 性能 | 通常略好 | 稍慢，因为是数组嵌套 |

> 如果你的数据是“表格型”，每行列数相同，推荐使用**多维数组**；
> 如果每行数据长度可能不同，比如每个学生的成绩数量不同，用**锯齿数组**更合适。

---

## 五、多维数组的常用操作示例

### 示例 1：创建并打印一个 3x3 的二维数组

```csharp
int[,] grid = new int[3, 3]
{
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

for (int i = 0; i < grid.GetLength(0); i++)
{
    for (int j = 0; j < grid.GetLength(1); j++)
    {
        Console.Write(grid[i, j] + "\t");
    }
    Console.WriteLine();
}
```

### 示例 2：二维数组求和

```csharp
int sum = 0;
for (int i = 0; i < matrix.GetLength(0); i++)
    for (int j = 0; j < matrix.GetLength(1); j++)
        sum += matrix[i, j];

Console.WriteLine("数组所有元素之和为: " + sum);
```

---

## 六、总结：C# 多维数组要点

| 项目 | 说明 |
|------|------|
| **二维数组声明** | `int[,] array;` |
| **二维数组初始化** | `new int[行数, 列数] { {...}, {...} }` |
| **访问元素** | `array[行索引, 列索引]` |
| **获取维度长度** | `array.GetLength(0)`（行）、`array.GetLength(1)`（列） |
| **遍历方式** | 嵌套 `for` 循环 或 `foreach`（无索引） |
| **三维及以上** | 使用 `int[,,]`, `int[,,,]` 等，但较少用 |
| **与锯齿数组区别** | 多维数组是“矩形”，锯齿数组是“数组的数组”，每“行”可不同长 |

---

## 七、什么时候使用多维数组？

✅ 适合场景：

- 数据是**规整的表格形式**，比如矩阵、棋盘、地图格子等；
- 行列数固定且一致；
- 需要高效地按行列访问数据；

❌ 不适合场景：

- 每“行”数据长度不同（如每个学生选修课程数量不同）→ 使用**锯齿数组（Jagged Array）**
- 数据非常动态、频繁增删 → 考虑使用 `List<List<T>>` 等集合类更灵活

---

## 八、扩展建议

如果你想进一步学习：

- 如何将二维数组以表格形式显示在控制台或 UI 中
- 如何实现二维数组的搜索、排序（比如按某列排序）
- 如何用多维数组处理游戏地图、图像像素等实际问题

欢迎继续提问，我可以为你提供具体示例代码！

---

是否需要我为你提供一个完整的控制台示例程序，比如一个 **学生成绩二维表（多维数组）的增删查改** 或 **矩阵运算** 的例子？