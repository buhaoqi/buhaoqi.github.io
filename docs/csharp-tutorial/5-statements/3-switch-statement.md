---
noteId: "d8e4453067dc11f09287057f7c37db9f"
tags: []

---


## 🔁 三、`switch` 语句（多分支选择）

SWITCH语句：用于固定值的判断。

### 📌 语法：

```csharp
switch (表达式)
{
    case 值1:
        // 执行代码块1
        break;
    case 值2:
        // 执行代码块2
        break;
    default:
        // 所有 case 不匹配时执行
        break;
}
```

### ✅ 示例：

```csharp
int day = 3;

switch (day)
{
    case 1:
        Console.WriteLine("星期一");
        break;
    case 2:
        Console.WriteLine("星期二");
        break;
    case 3:
        Console.WriteLine("星期三");
        break;
    default:
        Console.WriteLine("未知");
        break;
}
```


### ⚠️ 注意：

* `case` 后必须是**常量**，不能是变量或表达式。
* 每个 `case` 一般要有 `break`，否则会**穿透执行**下一个 case（除非你想要 fall-through 行为）。
* C# 7.0+ 支持 `switch` 的模式匹配（比如 `case int n when n > 0:`）。



### ✅ IF语句 VS SWITCH语句

| 对比点   | `if` 语句                              | `switch` 语句                          |
| -------- | -------------------------------------- | -------------------------------------- |
| 适用情况 | 条件是布尔表达式或复杂判断             | 条件是单个变量与固定值的匹配           |
| 条件类型 | 可以是任何表达式（数值、范围、逻辑）   | 只能是可枚举的常量值                   |
| 灵活性   | 高，支持逻辑运算、范围判断、函数调用等 | 低，只支持值匹配                       |
| 可读性   | 判断多时会变复杂，可嵌套但难读         | 分支清晰、结构简洁，适合多个固定值匹配 |
| 性能     | 对少量判断没差别，多分支时可能略慢     | 编译器可能优化为查找表，性能略优       |

---



### ✅ IF语句 VS SWITCH语句

| 对比点   | `if` 语句                              | `switch` 语句                          |
| -------- | -------------------------------------- | -------------------------------------- |
| 适用情况 | 条件是布尔表达式或复杂判断             | 条件是单个变量与固定值的匹配           |
| 条件类型 | 可以是任何表达式（数值、范围、逻辑）   | 只能是可枚举的常量值                   |
| 灵活性   | 高，支持逻辑运算、范围判断、函数调用等 | 低，只支持值匹配                       |
| 可读性   | 判断多时会变复杂，可嵌套但难读         | 分支清晰、结构简洁，适合多个固定值匹配 |
| 性能     | 对少量判断没差别，多分支时可能略慢     | 编译器可能优化为查找表，性能略优       |

---

### 🔍 IF语句 VS SWITCH语法区别

#### ▶ `if` 示例：可以进行范围、逻辑判断

```csharp
int score = 75;

if (score >= 90)
    Console.WriteLine("优秀");
else if (score >= 70)
    Console.WriteLine("良好");
else
    Console.WriteLine("及格或不及格");
```

#### ▶ `switch` 示例：只能用于具体值匹配

```csharp
int day = 3;

switch (day)
{
    case 1:
        Console.WriteLine("星期一");
        break;
    case 2:
        Console.WriteLine("星期二");
        break;
    case 3:
        Console.WriteLine("星期三");
        break;
    default:
        Console.WriteLine("未知");
        break;
}
```

---

### 🎯 支持的条件类型

| 类型                  | `if`              | `switch`                           |      |      |
| --------------------- | ----------------- | ---------------------------------- | ---- | ---- |
| 比较运算（>、<、==）  | ✅ 支持            | ❌ 不支持                           |      |      |
| 逻辑运算（&&、\|\| ） | ✅ 支持            | ❌ 不支持                           |      |      |
| 范围判断              | ✅ 支持            | ❌ 不支持（但 C# 7.0+ 支持 `when`） |      |      |
| 枚举、常量判断        | ✅ 支持            | ✅ 支持                             |      |      |
| 字符串判断            | ✅ 支持            | ✅ 支持（C# 7.0+ 性能优化）         |      |      |
| 模式匹配              | ⭕ 支持（C# 9 起） | ✅ 支持（C# 7 起）                  |      |      |

---

### 🧠 四、实际应用建议

| 情况                                       | 推荐语句             |
| ------------------------------------------ | -------------------- |
| 需要复杂判断（如范围、函数调用、逻辑运算） | `if`                 |
| 多个固定值（如菜单选项、星期、月份）       | `switch`             |
| 判断只有两个分支（是/否）                  | `if-else`            |
| 性能要求高、分支很多                       | `switch`（性能更优） |

---

### 📌 五、简要总结

| 对比维度       | if                 | switch                             |
| -------------- | ------------------ | ---------------------------------- |
| 条件类型       | 任意布尔表达式     | 单个变量与常量匹配                 |
| 判断能力       | 范围判断、逻辑运算 | 精确匹配（C# 7+ 可 pattern match） |
| 表达能力       | 强，适合复杂逻辑   | 简洁，适合固定分支                 |
| 性能（多分支） | 相对略慢           | 可能优化为跳转表，更快             |

---

### 🚀 小贴士

如果你判断的是枚举类型、整数常量、字符串固定值，优先使用 `switch`；
如果你要比较范围、多个条件组合、嵌套条件，使用 `if` 更合适。