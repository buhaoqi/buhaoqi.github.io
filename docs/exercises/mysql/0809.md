---
noteId: "64f251f074aa11f0a722798cb815576d"
tags: []

---

今日作业(修改数据表结构)

一、复习ALTER Table语句的用法

二、十道基础题 + 5道进阶题


## ALTER TABLE

`ALTER TABLE` 是 MySQL 中用于 **修改已有表结构** 的 DDL（数据定义语言）语句，使用频率高，功能强大。

它可以用来：

- 添加列（字段）
- 删除列
- 修改列的数据类型或属性
- 添加约束（如主键、唯一、外键等）
- 删除约束
- 重命名表
- 重命名列
- 修改表的存储引擎等

---

## 🎯 练习目标

通过以下 **10 道练习题**，帮助你熟练掌握 `ALTER TABLE` 的常见用法，包括：

| 功能 | 说明 |
|------|------|
| 1~3 | **添加字段（列）** |
| 4~5 | **修改字段（列）**：数据类型、名称、约束等 |
| 6~7 | **删除字段（列）** |
| 8 | **添加约束（如主键、唯一键）** |
| 9 | **删除约束（如主键）** |
| 10 | **重命名表或字段** |

---

## **基础表：`employees`**

假设你已经创建了如下表（你可以先运行以下 SQL 创建表，再做练习）：

```sql
CREATE TABLE employees (
    id INT,
    name VARCHAR(50),
    age INT
);
```

表中目前已有的字段为：`id`, `name`, `age`

---

## 基础练习（10道）

---

### **1. 添加一个新字段：`salary`，类型为 DECIMAL(10,2)**

> 目的：为员工表添加工资字段



---

### **2. 添加一个字段：`department`，类型为 VARCHAR(100)，放在 `age` 字段后面**

> 目的：添加部门字段，并控制字段顺序



---

### **3. 添加一个字段：`hire_date`，类型为 DATE，默认值为 '2023-01-01'**

> 目的：添加入职日期字段，并设置默认值



---

### **4. 将字段 `name` 的类型修改为 VARCHAR(100)**

> 目的：扩大 name 字段的存储空间



---

### **5. 将字段 `age` 的名称修改为 `employee_age`，类型不变**

> 目的：重命名字段



---

### **6. 删除字段：`hire_date`**

> 目的：移除不需要的字段



---

### **7. 删除字段：`department`**

> 目的：删除部门字段



---

### **8. 为字段 `id` 添加主键约束**

> 目的：将 id 设为主键，保证唯一标识



---

### **9. 删除表 `employees` 的主键约束**

> 目的：移除主键（比如重新设计表结构前）


---

### **10. 将表名 `employees` 修改为 `staff_info`**

> 目的：重命名表

---

## 📝 拓展练习（可选，挑战自己）

如果你已经完成了以上 10 题，可以尝试以下 **进阶练习**：

1. **为 `id` 字段添加自增属性：`AUTO_INCREMENT`**
2. **为 `email` 字段添加唯一约束：`UNIQUE`**
3. **添加一个字段 `manager_id` INT，并设置为外键（需有对应主表）**
4. **修改表引擎为 InnoDB：`ENGINE=InnoDB`**
5. **添加注释到某个字段，如：`COMMENT '员工年龄'`**

---

## ✅ 总结：ALTER TABLE 常用操作速查

| 功能 | 语法示例 |
|------|----------|
| 添加列 | `ALTER TABLE 表名 ADD 列名 类型 [约束] [AFTER 列名]` |
| 修改列类型/属性 | `ALTER TABLE 表名 MODIFY 列名 新类型 [约束]` |
| 修改列名称和类型 | `ALTER TABLE 表名 CHANGE 旧列名 新列名 新类型 [约束]` |
| 删除列 | `ALTER TABLE 表名 DROP COLUMN 列名` |
| 添加主键 | `ALTER TABLE 表名 ADD PRIMARY KEY (列名)` |
| 删除主键 | `ALTER TABLE 表名 DROP PRIMARY KEY` |
| 重命名表 | `ALTER TABLE 旧表名 RENAME TO 新表名` 或 `RENAME TABLE 旧表名 TO 新表名` |

---

## 答案（基础练习）


### **1. 添加一个新字段：`salary`，类型为 DECIMAL(10,2)**

> 目的：为员工表添加工资字段

🔧 答案：

```sql
ALTER TABLE employees ADD salary DECIMAL(10,2);
```

---

### **2. 添加一个字段：`department`，类型为 VARCHAR(100)，放在 `age` 字段后面**

> 目的：添加部门字段，并控制字段顺序

🔧 答案：

```sql
ALTER TABLE employees ADD department VARCHAR(100) AFTER age;
```

> ⚠️ MySQL 支持使用 `AFTER 列名` 或 `FIRST` 控制字段顺序，但不是所有数据库都支持。

---

### **3. 添加一个字段：`hire_date`，类型为 DATE，默认值为 '2023-01-01'**

> 目的：添加入职日期字段，并设置默认值

🔧 答案：

```sql
ALTER TABLE employees ADD hire_date DATE DEFAULT '2023-01-01';
```

---

### **4. 将字段 `name` 的类型修改为 VARCHAR(100)**

> 目的：扩大 name 字段的存储空间

🔧 答案：

```sql
ALTER TABLE employees MODIFY name VARCHAR(100);
```

---

### **5. 将字段 `age` 的名称修改为 `employee_age`，类型不变**

> 目的：重命名字段

🔧 答案：

```sql
ALTER TABLE employees CHANGE age employee_age INT;
```

> ⚠️ 注意：`CHANGE` 语法需要写 **旧字段名和新字段名**，还要重新写字段类型！

如果你只想改名而 **不改变类型**，也必须把原类型写上。

---

### **6. 删除字段：`hire_date`**

> 目的：移除不需要的字段

🔧 答案：

```sql
ALTER TABLE employees DROP COLUMN hire_date;
```

---

### **7. 删除字段：`department`**

> 目的：删除部门字段

🔧 答案：

```sql
ALTER TABLE employees DROP COLUMN department;
```

---

### **8. 为字段 `id` 添加主键约束**

> 目的：将 id 设为主键，保证唯一标识

🔧 答案：

```sql
ALTER TABLE employees ADD PRIMARY KEY (id);
```

---

### **9. 删除表 `employees` 的主键约束**

> 目的：移除主键（比如重新设计表结构前）

🔧 答案：

```sql
ALTER TABLE employees DROP PRIMARY KEY;
```

> ⚠️ 注意：如果主键字段有 `AUTO_INCREMENT`，可能需要先去掉该属性。

---

### **10. 将表名 `employees` 修改为 `staff_info`**

> 目的：重命名表

🔧 答案：

```sql
ALTER TABLE employees RENAME TO staff_info;
```

或者（MySQL 也支持这种写法）：

```sql
RENAME TABLE employees TO staff_info;
```

---
