<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-csharp/ch05/task2/textbox" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">TextBox控件 | 河北对口高考计算机专业</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://buhaoqi.github.io/img/logo-orange-social.png"><meta data-rh="true" name="twitter:image" content="https://buhaoqi.github.io/img/logo-orange-social.png"><meta data-rh="true" property="og:url" content="https://buhaoqi.github.io/docs/csharp/ch05/task2/textbox"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TextBox控件 | 河北对口高考计算机专业"><meta data-rh="true" name="description" content="本节高考考点"><meta data-rh="true" property="og:description" content="本节高考考点"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://buhaoqi.github.io/docs/csharp/ch05/task2/textbox"><link data-rh="true" rel="alternate" href="https://buhaoqi.github.io/docs/csharp/ch05/task2/textbox" hreflang="en"><link data-rh="true" rel="alternate" href="https://buhaoqi.github.io/docs/csharp/ch05/task2/textbox" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"TextBox控件","item":"https://buhaoqi.github.io/docs/csharp/ch05/task2/textbox"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="河北对口高考计算机专业 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="河北对口高考计算机专业 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.761b036b.css">
<script src="/assets/js/runtime~main.2893d62c.js" defer="defer"></script>
<script src="/assets/js/main.c9b767f4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="不好奇 Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="不好奇 Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" docid="csharp/intro" href="/docs/csharp/intro">算法与程序设计</a><a class="navbar__item navbar__link" docid="mysql/intro" href="/docs/mysql/intro">MySQL教程</a><a class="navbar__item navbar__link" href="/docs/bookmarks/intro">网址导航</a><a class="navbar__item navbar__link" docid="teacher/intro" href="/docs/teacher/intro">教育知识与能力</a><a class="navbar__item navbar__link" docid="teacher2/intro" href="/docs/teacher2/intro">综合素质</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://buhaoqi.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-external-link">不好奇课堂<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/csharp/intro"><span title="考试大纲" class="linkLabel_WmDU">考试大纲</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/csharp/ch01/overview"><span title="项目一 算法与程序基础" class="categoryLinkLabel_W154">项目一 算法与程序基础</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch01/overview"><span title="概述" class="linkLabel_WmDU">概述</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch01/task1/1"><span title="任务一 算法的定义与特性" class="categoryLinkLabel_W154">任务一 算法的定义与特性</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch01/task2/1"><span title="任务二 算法的描述与设计" class="categoryLinkLabel_W154">任务二 算法的描述与设计</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch01/task3/1"><span title="任务三 算法分析与评价" class="categoryLinkLabel_W154">任务三 算法分析与评价</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch01/task4"><span title="任务四 算法与程序的关系" class="linkLabel_WmDU">任务四 算法与程序的关系</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch01/task5/1"><span title="任务五 典型算法举例" class="categoryLinkLabel_W154">任务五 典型算法举例</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/csharp/ch02/overview"><span title="项目二 C#概述" class="categoryLinkLabel_W154">项目二 C#概述</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch02/overview"><span title="C#概述" class="linkLabel_WmDU">C#概述</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch02/task1"><span title="任务一 C#语言简介" class="linkLabel_WmDU">任务一 C#语言简介</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch02/task2"><span title="任务二 Visual Studio开发环境" class="linkLabel_WmDU">任务二 Visual Studio开发环境</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch02/task3"><span title="任务三 简单C#程序实例" class="linkLabel_WmDU">任务三 简单C#程序实例</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/csharp/ch03/task1/overview"><span title="项目三 C#语言基础" class="categoryLinkLabel_W154">项目三 C#语言基础</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch03/task1/overview"><span title="任务一 数据类型" class="categoryLinkLabel_W154">任务一 数据类型</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch03/task2/constant"><span title="任务二 常量与变量" class="categoryLinkLabel_W154">任务二 常量与变量</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch03/task3/overview"><span title="任务三 运算符与表达式" class="categoryLinkLabel_W154">任务三 运算符与表达式</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch03/exercise"><span title="练习题" class="linkLabel_WmDU">练习题</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/csharp/ch04/overview"><span title="项目四 C#控制结构" class="categoryLinkLabel_W154">项目四 C#控制结构</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch04/overview"><span title="概述" class="linkLabel_WmDU">概述</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch04/task1/overview"><span title="任务一 顺序结构语句" class="categoryLinkLabel_W154">任务一 顺序结构语句</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch04/task2/overview"><span title="任务二 分支结构" class="categoryLinkLabel_W154">任务二 分支结构</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch04/task3/loop-for"><span title="任务三 循环结构" class="categoryLinkLabel_W154">任务三 循环结构</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/csharp/ch04/task4/break-statement"><span title="任务四 跳转语句" class="categoryLinkLabel_W154">任务四 跳转语句</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch04/exercise"><span title="练习题" class="linkLabel_WmDU">练习题</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/csharp/ch05/overview"><span title="项目五 窗体应用程序开发" class="categoryLinkLabel_W154">项目五 窗体应用程序开发</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/overview"><span title="概述" class="linkLabel_WmDU">概述</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task1"><span title="任务一 窗体设计" class="linkLabel_WmDU">任务一 窗体设计</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/csharp/ch05/task2/overview"><span title="任务二 常用控件" class="categoryLinkLabel_W154">任务二 常用控件</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/overview"><span title="控件概述" class="linkLabel_WmDU">控件概述</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/label"><span title="Label控件" class="linkLabel_WmDU">Label控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/csharp/ch05/task2/textbox"><span title="TextBox控件" class="linkLabel_WmDU">TextBox控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/button"><span title="Button控件" class="linkLabel_WmDU">Button控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/combobox"><span title="ComboBox 控件" class="linkLabel_WmDU">ComboBox 控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/listbox"><span title="ListBox 控件" class="linkLabel_WmDU">ListBox 控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/radiobutton"><span title="RadioButton控件" class="linkLabel_WmDU">RadioButton控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/checkbox"><span title="CheckBox控件" class="linkLabel_WmDU">CheckBox控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/hscrollbar-vscrollbar"><span title="HScrollBar|VScrollBar控件" class="linkLabel_WmDU">HScrollBar|VScrollBar控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/timer"><span title="Timer控件" class="linkLabel_WmDU">Timer控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/groupbox"><span title="GroupBox 控件" class="linkLabel_WmDU">GroupBox 控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task2/tabcontrol"><span title="TabControl控件" class="linkLabel_WmDU">TabControl控件</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task3"><span title="任务三 对话框" class="linkLabel_WmDU">任务三 对话框</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/task4"><span title="任务四 文档程序设计" class="linkLabel_WmDU">任务四 文档程序设计</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/exercise1"><span title="练习：窗体" class="linkLabel_WmDU">练习：窗体</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/exercise2"><span title="练习：窗体控件" class="linkLabel_WmDU">练习：窗体控件</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch05/exercise3"><span title="练习：窗体程序设计" class="linkLabel_WmDU">练习：窗体程序设计</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/csharp/ch06/overview"><span title="项目六 数组" class="categoryLinkLabel_W154">项目六 数组</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch06/overview"><span title="概述" class="linkLabel_WmDU">概述</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch06/task1"><span title="任务一 一维数组" class="linkLabel_WmDU">任务一 一维数组</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch06/task2"><span title="任务二 多维数组" class="linkLabel_WmDU">任务二 多维数组</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch06/task3"><span title="任务三 数组的遍历" class="linkLabel_WmDU">任务三 数组的遍历</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch06/task4"><span title="任务四 数组的排序" class="linkLabel_WmDU">任务四 数组的排序</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch06/task5"><span title="任务四 数组的查找" class="linkLabel_WmDU">任务四 数组的查找</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/csharp/ch07/overview"><span title="项目七 面向对象基础" class="categoryLinkLabel_W154">项目七 面向对象基础</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/overview"><span title="概述" class="linkLabel_WmDU">概述</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/csharp/ch07/task1/overview"><span title="任务一 类" class="categoryLinkLabel_W154">任务一 类</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/overview"><span title="概述" class="linkLabel_WmDU">概述</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/class"><span title="子任务一 类是什么" class="linkLabel_WmDU">子任务一 类是什么</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/modifiers"><span title="子任务二 修饰符" class="linkLabel_WmDU">子任务二 修饰符</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/fields"><span title="子任务三 字段" class="linkLabel_WmDU">子任务三 字段</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/property"><span title="任务四 属性" class="linkLabel_WmDU">任务四 属性</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/constructor"><span title="子任务五 构造函数" class="linkLabel_WmDU">子任务五 构造函数</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/this"><span title="子任务六 this关键字" class="linkLabel_WmDU">子任务六 this关键字</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/exercise1"><span title="七、同步实验" class="linkLabel_WmDU">七、同步实验</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task1/exercise2"><span title="八、同步训练" class="linkLabel_WmDU">八、同步训练</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/csharp/ch07/task2/overview"><span title="任务二 方法" class="categoryLinkLabel_W154">任务二 方法</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task2/overview"><span title="概述" class="linkLabel_WmDU">概述</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task2/what-method-is"><span title="一、方法是什么" class="linkLabel_WmDU">一、方法是什么</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task2/parameters"><span title="二、方法的参数" class="linkLabel_WmDU">二、方法的参数</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task2/static"><span title="三、static 关键字" class="linkLabel_WmDU">三、static 关键字</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task2/exercise1"><span title="四、同步实验" class="linkLabel_WmDU">四、同步实验</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch07/task2/exercise2"><span title="五、同步训练" class="linkLabel_WmDU">五、同步训练</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/csharp/ch08/overview"><span title="项目八：面向对象编程" class="categoryLinkLabel_W154">项目八：面向对象编程</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch08/overview"><span title="概述" class="linkLabel_WmDU">概述</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch08/task1"><span title="一、类的封装" class="linkLabel_WmDU">一、类的封装</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch08/task2"><span title="二、类的继承" class="linkLabel_WmDU">二、类的继承</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch08/task3"><span title="三、多态" class="linkLabel_WmDU">三、多态</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch08/task4"><span title="四、接口" class="linkLabel_WmDU">四、接口</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch08/task5"><span title="五、委托" class="linkLabel_WmDU">五、委托</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch08/task6"><span title="六、同步实验" class="linkLabel_WmDU">六、同步实验</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/ch08/task7"><span title="七、同步训练" class="linkLabel_WmDU">七、同步训练</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">项目五 窗体应用程序开发</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">任务二 常用控件</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">TextBox控件</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>TextBox控件</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="本节高考考点">本节高考考点<a href="#本节高考考点" class="hash-link" aria-label="Direct link to 本节高考考点" title="Direct link to 本节高考考点" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-基础属性必考">1. <strong>基础属性（必考）</strong><a href="#1-基础属性必考" class="hash-link" aria-label="Direct link to 1-基础属性必考" title="Direct link to 1-基础属性必考" translate="no">​</a></h3>
<table><thead><tr><th style="text-align:left">属性</th><th style="text-align:left">属性值</th><th style="text-align:left">属性说明</th><th style="text-align:left">注意</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Text</strong></td><td style="text-align:left">任意字符串</td><td style="text-align:left">获取或设置 TextBox 中显示的文本内容。</td><td style="text-align:left">1. 值类型：<code>string</code> <br> 2. <strong>默认属性</strong> <br> 3. 支持空字符串和多行文本（需设置 <code>Multiline=True</code>，使用 <code>\n</code> 换行）<br> 4. 属性永远不会为 <code>null</code>，即使为空也是空字符串</td></tr><tr><td style="text-align:left"><strong>MaxLength</strong></td><td style="text-align:left">整数 (如 10, 20)</td><td style="text-align:left">设置用户可在 TextBox 中输入的最大字符数。</td><td style="text-align:left">1. 值类型：<code>int</code> <br> 2. 默认值为 <strong>0</strong>，表示不限制输入长度 <br> 3. 仅限制<strong>用户输入</strong>，不影响通过代码（如 <code>TextBox.Text = “...”</code>）设置的文本 <br> 4. 适用于限制用户名、密码、验证码等输入框的长度</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-重要属性常考">2. <strong>重要属性（常考）</strong><a href="#2-重要属性常考" class="hash-link" aria-label="Direct link to 2-重要属性常考" title="Direct link to 2-重要属性常考" translate="no">​</a></h3>
<table><thead><tr><th style="text-align:left">属性</th><th style="text-align:left">属性值</th><th style="text-align:left">属性说明</th><th style="text-align:left">注意</th></tr></thead><tbody><tr><td style="text-align:left"><strong>ReadOnly</strong></td><td style="text-align:left"><code>true</code> 或 <code>false</code></td><td style="text-align:left">设置 TextBox 是否为只读模式。</td><td style="text-align:left">1. 值类型：<code>bool</code> <br> 2. 默认值为 <code>false</code>，表示可编辑 <br> 3. 设置为 <code>true</code> 时，用户无法修改文本，但可选中、复制文本 <br> 4. 常用于显示只读信息或配置项</td></tr><tr><td style="text-align:left"><strong>PasswordChar</strong></td><td style="text-align:left">单个字符（如 <code>*</code>、<code>•</code>）</td><td style="text-align:left">设置用于屏蔽密码输入的字符。</td><td style="text-align:left">1. 值类型：<code>char</code> <br> 2. 默认值为 <code>\0</code>（空字符），表示正常显示文本 <br> 3. 设置后，输入的所有字符将显示为该字符，但实际 <code>Text</code> 属性仍为真实内容 <br> 4. 常用于密码框、验证码输入框等敏感信息输入</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-一般属性可能考">3. <strong>一般属性（可能考）</strong><a href="#3-一般属性可能考" class="hash-link" aria-label="Direct link to 3-一般属性可能考" title="Direct link to 3-一般属性可能考" translate="no">​</a></h3>
<table><thead><tr><th style="text-align:left">属性</th><th style="text-align:left">属性值</th><th style="text-align:left">属性说明</th><th style="text-align:left">注意</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Multiline</strong></td><td style="text-align:left"><code>true</code> 或 <code>false</code></td><td style="text-align:left">设置 TextBox 是否支持多行文本输入与显示。</td><td style="text-align:left">1. 值类型：<code>bool</code> <br> 2. 默认值为 <code>false</code>，表示单行模式 <br> 3. 设置为 <code>true</code> 时，可通过回车换行，并可调整控件高度 <br> 4. 在多行模式下可配合 <code>ScrollBars</code> 属性使用</td></tr><tr><td style="text-align:left"><strong>SelectedText</strong></td><td style="text-align:left">字符串</td><td style="text-align:left">获取或设置 TextBox 中当前选中的文本内容。强调用代码选中。</td><td style="text-align:left">1. 值类型：<code>string</code> <br> 2. 运行时属性，设计时不可见 <br> 3. 若未选中任何文本，则为空字符串 <br> 4. 常用于实现文本的替换、复制、剪切等操作</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-了解属性较少考">4. <strong>了解属性（较少考）</strong><a href="#4-了解属性较少考" class="hash-link" aria-label="Direct link to 4-了解属性较少考" title="Direct link to 4-了解属性较少考" translate="no">​</a></h3>
<table><thead><tr><th style="text-align:left">属性</th><th style="text-align:left">属性值</th><th style="text-align:left">属性说明</th><th style="text-align:left">注意</th></tr></thead><tbody><tr><td style="text-align:left"><strong>TextLength</strong></td><td style="text-align:left">返回整数（如 5, 20）</td><td style="text-align:left">获取 TextBox 中字符总数。</td><td style="text-align:left">1. 值类型：<code>int</code><br>2. 只读属性，设计时不可设置<br>3. 与 <code>Text.Length</code> 属性值相同，但性能更优<br>4. 常用于实时统计输入字数或验证输入是否超出限制</td></tr><tr><td style="text-align:left"><strong>TabIndex</strong></td><td style="text-align:left">整数（如 0, 1, 2...）</td><td style="text-align:left">设置控件在 Tab 键顺序中的位置。</td><td style="text-align:left">1. 值类型：<code>int</code><br>2. 默认值根据控件添加顺序自动递增<br>3. Tab 键顺序影响用户使用 Tab 键在窗体控件间导航的顺序<br>4. 数值越小，Tab 键焦点越早到达该控件</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="一textbox-控件用途">一、TextBox 控件用途<a href="#一textbox-控件用途" class="hash-link" aria-label="Direct link to 一、TextBox 控件用途" title="Direct link to 一、TextBox 控件用途" translate="no">​</a></h2>
<p>用途是<strong>文本输入/可编辑显示</strong>，覆盖单行、密码、多行文本等场景；与Label相比，TextBox更适合需要用户交互或长文本显示（支持滚动）的场景，Label则适合纯展示短文本。</p>
<p>TextBox是WinForm中最常用的<strong>文本输入/显示控件</strong>，主要用于和用户进行文本交互，常见场景包括：</p>
<ol>
<li class=""><strong>单行文本输入</strong>：如登录界面的用户名、搜索框、手机号/验证码输入框等；</li>
<li class=""><strong>密码输入</strong>：通过掩码隐藏输入内容（如用<code>*</code>代替真实字符）；</li>
<li class=""><strong>多行文本编辑</strong>：如备注、留言、简单的文本内容编辑（替代简易记事本）；</li>
<li class=""><strong>只读文本显示</strong>：展示无需用户修改的文本（比Label更适合长文本，支持滚动）。</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="三textbox控件属性">三、TextBox控件属性<a href="#三textbox控件属性" class="hash-link" aria-label="Direct link to 三、TextBox控件属性" title="Direct link to 三、TextBox控件属性" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1text属性">1.Text属性<a href="#1text属性" class="hash-link" aria-label="Direct link to 1.Text属性" title="Direct link to 1.Text属性" translate="no">​</a></h3>
<p>你想掌握WinForm中TextBox控件的<code>Text</code>属性用法，包括核心作用、设置/读取文本的方式、单行/多行场景的使用差异，以及结合其他属性的实用场景和关键注意事项，对吧？</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="一text属性核心定义">一、Text属性核心定义<a href="#一text属性核心定义" class="hash-link" aria-label="Direct link to 一、Text属性核心定义" title="Direct link to 一、Text属性核心定义" translate="no">​</a></h4>
<p>TextBox的<code>Text</code>属性是<strong>可读可写的字符串类型属性</strong>，也是TextBox最核心的属性——它用于存储、展示用户输入的文本内容，或由程序主动设置文本值。默认值为空字符串（<code>&quot;&quot;</code>），支持单行文本（默认）和多行文本（需配合<code>Multiline = true</code>），可包含普通字符、转义字符（如换行符<code>\r\n</code>）、特殊符号等。</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二text属性基础用法附代码示例">二、Text属性基础用法（附代码示例）<a href="#二text属性基础用法附代码示例" class="hash-link" aria-label="Direct link to 二、Text属性基础用法（附代码示例）" title="Direct link to 二、Text属性基础用法（附代码示例）" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-静态设置读取文本窗体加载时">1. 静态设置/读取文本（窗体加载时）<a href="#1-静态设置读取文本窗体加载时" class="hash-link" aria-label="Direct link to 1. 静态设置/读取文本（窗体加载时）" title="Direct link to 1. 静态设置/读取文本（窗体加载时）" translate="no">​</a></h5>
<p>在窗体初始化阶段设置TextBox的初始文本，或读取默认值（通常为空）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例1：设置单行TextBox初始文本（如默认提示填充）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入用户名&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 初始提示文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Gray</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 提示文字置灰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例2：设置多行TextBox初始文本（结合换行符）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 开启多行模式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScrollBars </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ScrollBars</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Vertical</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 显示垂直滚动条</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;默认备注：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">1. 无特殊要求</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">2. 请补充详细信息&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例3：读取初始Text值（默认空字符串）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> initText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;密码框初始文本：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">initText</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 输出：空字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-动态修改读取文本按钮点击业务触发">2. 动态修改/读取文本（按钮点击/业务触发）<a href="#2-动态修改读取文本按钮点击业务触发" class="hash-link" aria-label="Direct link to 2. 动态修改/读取文本（按钮点击/业务触发）" title="Direct link to 2. 动态修改/读取文本（按钮点击/业务触发）" translate="no">​</a></h5>
<p>这是<code>Text</code>最常用的场景，比如提交表单时读取输入、清空文本、赋值新内容：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 示例1：提交按钮点击时，读取TextBox输入内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnSubmit_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取用户名和密码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> userName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Trim()去除首尾空格</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 简单校验</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;用户名不能为空！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 展示读取的内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;提交信息：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">用户名：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">userName</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">密码：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp keyword" style="color:#00009f">new</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp constructor-invocation class-name keyword" style="color:#00009f">string</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">(</span><span class="token interpolation-string interpolation expression language-csharp char">&#x27;*&#x27;</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">,</span><span class="token interpolation-string interpolation expression language-csharp"> password</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Length</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">)</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 示例2：清空TextBox文本（两种等价方式）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnClear_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 方式1：直接赋值为空字符串（最常用）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 方式2：调用Clear()方法（语义更清晰）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 示例3：动态赋值新文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnSetText_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;默认用户名&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 覆盖原有文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">—— 自动补充的备注（</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">DateTime</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Now</span><span class="token interpolation-string interpolation format-string punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation format-string">HH:mm:ss</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 追加文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-区分text和clear清空文本">3. 区分Text和Clear()（清空文本）<a href="#3-区分text和clear清空文本" class="hash-link" aria-label="Direct link to 3. 区分Text和Clear()（清空文本）" title="Direct link to 3. 区分Text和Clear()（清空文本）" translate="no">​</a></h5>
<p>清空TextBox文本有两种等价方式，可根据语义选择：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 方式1：赋值为空字符串（简洁）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 方式2：调用Clear()方法（更直观，推荐）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 两者效果完全一致，都会清空Text并触发TextChanged事件</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="三text属性的核心实用场景">三、Text属性的核心实用场景<a href="#三text属性的核心实用场景" class="hash-link" aria-label="Direct link to 三、Text属性的核心实用场景" title="Direct link to 三、Text属性的核心实用场景" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-输入校验读取text判断有效性">1. 输入校验（读取Text判断有效性）<a href="#1-输入校验读取text判断有效性" class="hash-link" aria-label="Direct link to 1. 输入校验（读取Text判断有效性）" title="Direct link to 1. 输入校验（读取Text判断有效性）" translate="no">​</a></h5>
<p>结合<code>Text</code>读取用户输入，校验格式、长度、非空等，是表单提交的核心逻辑：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 示例：校验手机号格式（简单正则）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnCheckPhone_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> phone </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxPhone</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 正则匹配11位手机号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">System</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Text</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">RegularExpressions</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Regex</span><span class="token plain"> regex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">System</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">.</span><span class="token constructor-invocation class-name">Text</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">.</span><span class="token constructor-invocation class-name">RegularExpressions</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">.</span><span class="token constructor-invocation class-name">Regex</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">@&quot;^1[3-9]\d{9}$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phone</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;⚠️ 手机号不能为空！&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Red</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsMatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phone</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;⚠️ 手机号格式错误（需11位有效号码）！&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Red</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;✅ 手机号格式正确！&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Green</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-多行文本处理结合multiline属性">2. 多行文本处理（结合Multiline属性）<a href="#2-多行文本处理结合multiline属性" class="hash-link" aria-label="Direct link to 2. 多行文本处理（结合Multiline属性）" title="Direct link to 2. 多行文本处理（结合Multiline属性）" translate="no">​</a></h5>
<p><code>Text</code>支持存储多行文本，需配合<code>Multiline = true</code>，换行符用<code>\r\n</code>或<code>Environment.NewLine</code>（跨平台兼容）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 方式1：用Environment.NewLine换行（推荐）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;第一行文本</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">第二行文本</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">第三行文本&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 方式2：用\r\n换行（Windows专用）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// textBoxMultiLine.Text = &quot;第一行文本\r\n第二行文本\r\n第三行文本&quot;;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 读取多行文本并拆分每行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnReadMultiLine_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> multiText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 按换行符拆分每行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token class-name punctuation" style="color:#393A34">[</span><span class="token class-name punctuation" style="color:#393A34">]</span><span class="token plain"> lines </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> multiText</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NewLine </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> StringSplitOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;多行文本拆分结果：\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> lines</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;第</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">i</span><span class="token interpolation-string interpolation expression language-csharp operator" style="color:#393A34">+</span><span class="token interpolation-string interpolation expression language-csharp number" style="color:#36acaa">1</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">行：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">lines</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">[</span><span class="token interpolation-string interpolation expression language-csharp">i</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">]</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelResult</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-密码框文本处理结合passwordchar">3. 密码框文本处理（结合PasswordChar）<a href="#3-密码框文本处理结合passwordchar" class="hash-link" aria-label="Direct link to 3. 密码框文本处理（结合PasswordChar）" title="Direct link to 3. 密码框文本处理（结合PasswordChar）" translate="no">​</a></h5>
<p>当TextBox作为密码框使用时（设置<code>PasswordChar</code>或<code>UseSystemPasswordChar</code>），<code>Text</code>仍存储<strong>真实的明文内容</strong>，仅界面显示掩码字符：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 设置为密码框</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 显示为*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 或使用系统默认密码字符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// textBoxPassword.UseSystemPasswordChar = true;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnShowPwd_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取真实密码（Text存储明文）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> realPwd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;真实密码：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">realPwd</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 输出输入的明文，而非*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-实时响应输入变化textchanged事件">4. 实时响应输入变化（TextChanged事件）<a href="#4-实时响应输入变化textchanged事件" class="hash-link" aria-label="Direct link to 4. 实时响应输入变化（TextChanged事件）" title="Direct link to 4. 实时响应输入变化（TextChanged事件）" translate="no">​</a></h5>
<p>结合<code>TextChanged</code>事件，实时监听<code>Text</code>的变化（如实时校验、显示输入长度）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 实时显示输入长度（结合MaxLength）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">textBoxUserName_TextChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TextBox</span><span class="token plain"> tb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sender </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token class-name">TextBox</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> currentLen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> maxLen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelLenTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;已输入：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">currentLen</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">/</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">maxLen</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> 字符&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 长度达标时标绿</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelLenTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> currentLen </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Green </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Orange</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="四使用text属性的关键注意事项">四、使用Text属性的关键注意事项<a href="#四使用text属性的关键注意事项" class="hash-link" aria-label="Direct link to 四、使用Text属性的关键注意事项" title="Direct link to 四、使用Text属性的关键注意事项" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-区分text和selectedtext新手易混淆">1. 区分Text和SelectedText（新手易混淆）<a href="#1-区分text和selectedtext新手易混淆" class="hash-link" aria-label="Direct link to 1. 区分Text和SelectedText（新手易混淆）" title="Direct link to 1. 区分Text和SelectedText（新手易混淆）" translate="no">​</a></h5>
<ul>
<li class=""><code>Text</code>：TextBox的<strong>全部文本内容</strong>；</li>
<li class=""><code>SelectedText</code>：TextBox中<strong>被用户选中的部分文本</strong>（可单独赋值，替换选中内容）。
示例对比：</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnReplaceSelected_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 替换选中的文本（未选中则插入到光标位置）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[替换内容]&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取全部文本（包含替换后的内容）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> allText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;全部文本：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">allText</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-文本截断结合maxlength">2. 文本截断（结合MaxLength）<a href="#2-文本截断结合maxlength" class="hash-link" aria-label="Direct link to 2. 文本截断（结合MaxLength）" title="Direct link to 2. 文本截断（结合MaxLength）" translate="no">​</a></h5>
<p>当通过代码给<code>Text</code>赋值超过<code>MaxLength</code>限制的内容时，文本会<strong>自动截断</strong>到<code>MaxLength</code>长度：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 限制最多5个字符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123456789&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 赋值9个字符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;实际Text值：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBox1</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Text</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 输出：12345（截断后）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-只读禁用状态下的text操作">3. 只读/禁用状态下的Text操作<a href="#3-只读禁用状态下的text操作" class="hash-link" aria-label="Direct link to 3. 只读/禁用状态下的Text操作" title="Direct link to 3. 只读/禁用状态下的Text操作" translate="no">​</a></h5>
<ul>
<li class=""><code>ReadOnly = true</code>：用户无法编辑，但程序可通过<code>Text</code>赋值/读取（界面光标仍可显示）；</li>
<li class=""><code>Enabled = false</code>：控件禁用，用户和程序都无法修改<code>Text</code>（仅可读取）。</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-特殊字符处理">4. 特殊字符处理<a href="#4-特殊字符处理" class="hash-link" aria-label="Direct link to 4. 特殊字符处理" title="Direct link to 4. 特殊字符处理" translate="no">​</a></h5>
<ul>
<li class="">转义字符：<code>\t</code>（制表符）、<code>\\</code>（反斜杠）、<code>\&quot;</code>（双引号）等需转义；</li>
<li class="">若需显示原始转义字符（如<code>\n</code>），需用<code>@</code>Verbatim字符串：<!-- -->
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">@&quot;C:\Users\test\note.txt&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 显示：C:\Users\test\note.txt</span><br></span></code></pre></div></div>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-空文本判断">5. 空文本判断<a href="#5-空文本判断" class="hash-link" aria-label="Direct link to 5. 空文本判断" title="Direct link to 5. 空文本判断" translate="no">​</a></h5>
<p>推荐使用<code>string.IsNullOrEmpty(tb.Text.Trim())</code>判断是否为有效输入（去除首尾空格后为空），避免用户仅输入空格的情况：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 推荐写法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;用户名不能为空（仅空格也无效）！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>Text</code>是TextBox最核心的属性，可读可写，用于存储/展示全部文本内容，支持单行/多行；</li>
<li class="">常用操作：设置初始文本、读取用户输入、清空文本、实时响应输入变化（TextChanged）；</li>
<li class="">关键注意：区分<code>Text</code>和<code>SelectedText</code>，结合<code>Multiline/PasswordChar/MaxLength</code>使用，判断空文本时建议先<code>Trim()</code>。</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2textlength-属性">2.TextLength 属性<a href="#2textlength-属性" class="hash-link" aria-label="Direct link to 2.TextLength 属性" title="Direct link to 2.TextLength 属性" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="一textlength-核心定义">一、<code>TextLength</code> 核心定义<a href="#一textlength-核心定义" class="hash-link" aria-label="Direct link to 一textlength-核心定义" title="Direct link to 一textlength-核心定义" translate="no">​</a></h4>
<p><code>TextLength</code>是TextBox的<strong>只读属性</strong>，专门用于获取当前TextBox中<code>Text</code>属性的字符总数（包括空格、换行符等所有可见/不可见字符）。它的核心优势是：<strong>无需手动访问<code>Text</code>属性就能获取长度，且能避免空引用异常</strong>。</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二textlength-基础用法附代码示例">二、<code>TextLength</code> 基础用法（附代码示例）<a href="#二textlength-基础用法附代码示例" class="hash-link" aria-label="Direct link to 二textlength-基础用法附代码示例" title="Direct link to 二textlength-基础用法附代码示例" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-基本读取获取当前文本长度">1. 基本读取：获取当前文本长度<a href="#1-基本读取获取当前文本长度" class="hash-link" aria-label="Direct link to 1. 基本读取：获取当前文本长度" title="Direct link to 1. 基本读取：获取当前文本长度" translate="no">​</a></h5>
<p>直接通过<code>textBox1.TextLength</code>读取即可，无需额外计算，示例如下：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 示例1：简单读取文本长度并弹窗显示</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnGetLength_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 假设textBox1中输入了“锄禾日当午”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 此时length = 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;当前输入的字符数：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">length</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-实用场景1实时显示输入字符数最常用">2. 实用场景1：实时显示输入字符数（最常用）<a href="#2-实用场景1实时显示输入字符数最常用" class="hash-link" aria-label="Direct link to 2. 实用场景1：实时显示输入字符数（最常用）" title="Direct link to 2. 实用场景1：实时显示输入字符数（最常用）" translate="no">​</a></h5>
<p>结合<code>TextChanged</code>事件，实时展示用户输入的字符数（比如评论、昵称输入框的“已输入X/50字”提示）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 窗体加载时绑定事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 设置输入框最大长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 绑定文本变化事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> TextBox1_TextChanged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 文本变化时实时更新字符数提示</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TextBox1_TextChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 获取当前长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> currentLen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 显示到Label上（label1用于提示）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    label1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;已输入：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">currentLen</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">/50 字&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 可选：超过最大长度时标红提示</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">currentLen </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        label1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Red</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        label1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Black</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-实用场景2判断文本是否为空简化代码">3. 实用场景2：判断文本是否为空（简化代码）<a href="#3-实用场景2判断文本是否为空简化代码" class="hash-link" aria-label="Direct link to 3. 实用场景2：判断文本是否为空（简化代码）" title="Direct link to 3. 实用场景2：判断文本是否为空（简化代码）" translate="no">​</a></h5>
<p>替代<code>string.IsNullOrEmpty(textBox1.Text)</code>，代码更简洁：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnCheckEmpty_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;输入框不能为空！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;输入内容有效！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="三textlength-vs-textlength关键区别">三、<code>TextLength</code> vs <code>Text.Length</code>（关键区别）<a href="#三textlength-vs-textlength关键区别" class="hash-link" aria-label="Direct link to 三textlength-vs-textlength关键区别" title="Direct link to 三textlength-vs-textlength关键区别" translate="no">​</a></h4>
<p>很多新手会混淆<code>textBox1.TextLength</code>和<code>textBox1.Text.Length</code>，核心差异在于<strong>空引用安全</strong>：</p>
<table><thead><tr><th>场景</th><th><code>TextLength</code></th><th><code>Text.Length</code></th></tr></thead><tbody><tr><td>Text为空字符串（&quot;&quot;）</td><td>返回0</td><td>返回0</td></tr><tr><td>Text为null（极端情况）</td><td>返回0</td><td>抛出<code>NullReferenceException</code>空引用异常</td></tr><tr><td>性能</td><td>略优（直接读取控件内部值）</td><td>需先访问Text属性再计算</td></tr></tbody></table>
<blockquote>
<p>注意：WinForm中TextBox的<code>Text</code>属性默认是空字符串（&quot;&quot;）而非null，所以日常使用中两者结果一致，但<code>TextLength</code>是更安全、更贴合TextBox控件的写法（符合“控件自有属性优先”的最佳实践）。</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="四注意事项">四、注意事项<a href="#四注意事项" class="hash-link" aria-label="Direct link to 四、注意事项" title="Direct link to 四、注意事项" translate="no">​</a></h4>
<ol>
<li class=""><code>TextLength</code>是<strong>只读属性</strong>，不能赋值（比如<code>textBox1.TextLength = 10;</code>会报错）；</li>
<li class="">计算的是<strong>字符数</strong>而非字节数（比如中文、英文、数字都算1个字符）；</li>
<li class="">多行TextBox中，换行符（<code>\r\n</code>）会算2个字符（Windows换行符是回车+换行）。</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结-1">总结<a href="#总结-1" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>TextLength</code>是TextBox的只读属性，核心作用是<strong>安全、便捷地获取文本字符总数</strong>；</li>
<li class="">相比<code>Text.Length</code>，它能避免空引用异常，且更贴合控件自身的设计；</li>
<li class="">最常用场景：实时显示输入字符数、判断输入框是否为空、配合<code>MaxLength</code>做输入校验。</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3readonly属性">3.ReadOnly属性<a href="#3readonly属性" class="hash-link" aria-label="Direct link to 3.ReadOnly属性" title="Direct link to 3.ReadOnly属性" translate="no">​</a></h3>
<p>你想掌握WinForm中TextBox控件的<code>ReadOnly</code>属性用法，包括核心作用、开启/关闭后的效果差异、动态切换的实用场景，以及和<code>Enabled</code>属性的关键区别等注意事项，对吧？</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="一readonly属性核心定义">一、ReadOnly属性核心定义<a href="#一readonly属性核心定义" class="hash-link" aria-label="Direct link to 一、ReadOnly属性核心定义" title="Direct link to 一、ReadOnly属性核心定义" translate="no">​</a></h4>
<p>TextBox的<code>ReadOnly</code>属性是<strong>可读可写的布尔类型（bool）属性</strong>，核心作用是控制TextBox的文本是否允许<strong>用户手动编辑</strong>：</p>
<ul>
<li class="">默认值：<code>false</code>（用户可正常输入、删除、修改文本）；</li>
<li class="">设为<code>true</code>时：用户无法编辑文本（输入/删除/修改操作无效），但仍可聚焦控件、选中/复制文本，程序也能通过代码修改<code>Text</code>属性；</li>
<li class="">核心特征：仅限制“用户手动编辑”，不限制“程序操作”和“文本复制”，控件视觉上仍为正常状态（无灰显）。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二readonly属性基础用法附代码示例">二、ReadOnly属性基础用法（附代码示例）<a href="#二readonly属性基础用法附代码示例" class="hash-link" aria-label="Direct link to 二、ReadOnly属性基础用法（附代码示例）" title="Direct link to 二、ReadOnly属性基础用法（附代码示例）" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-静态设置只读状态窗体加载时">1. 静态设置只读状态（窗体加载时）<a href="#1-静态设置只读状态窗体加载时" class="hash-link" aria-label="Direct link to 1. 静态设置只读状态（窗体加载时）" title="Direct link to 1. 静态设置只读状态（窗体加载时）" translate="no">​</a></h5>
<p>初始化时将TextBox设为只读，用于展示无需修改的内容（如用户信息、订单编号）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例1：展示用户ID（只读，不允许编辑）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;U123456789&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 程序可赋值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Gray</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 手动调整颜色，区分只读状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;用户ID（只读）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例2：默认可编辑的输入框（省略ReadOnly=false，因默认值）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入用户名&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-动态切换只读状态按钮点击">2. 动态切换只读状态（按钮点击）<a href="#2-动态切换只读状态按钮点击" class="hash-link" aria-label="Direct link to 2. 动态切换只读状态（按钮点击）" title="Direct link to 2. 动态切换只读状态（按钮点击）" translate="no">​</a></h5>
<p>根据业务场景临时切换编辑/只读状态（如密码查看、表单提交后锁定）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 示例1：切换密码框的只读/编辑状态（配合显示/隐藏密码）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnTogglePwdReadOnly_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 切换ReadOnly状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 显示明文（查看密码）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        btnTogglePwdReadOnly</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;隐藏密码（可编辑）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 恢复掩码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        btnTogglePwdReadOnly</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;查看密码（只读）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 示例2：表单提交后锁定所有输入框（设为只读）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnSubmit_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 简单校验</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;用户名不能为空！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 提交成功后，锁定所有输入框为只读</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPhone</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;提交成功！输入框已锁定，不可编辑&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-读取readonly状态判断当前是否只读">3. 读取ReadOnly状态（判断当前是否只读）<a href="#3-读取readonly状态判断当前是否只读" class="hash-link" aria-label="Direct link to 3. 读取ReadOnly状态（判断当前是否只读）" title="Direct link to 3. 读取ReadOnly状态（判断当前是否只读）" translate="no">​</a></h5>
<p>读取状态用于业务逻辑校验（如仅当可编辑时执行输入校验）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnCheckReadOnly_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取多个TextBox的只读状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">bool</span><span class="token plain"> isUserIdReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxUserId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">bool</span><span class="token plain"> isUserNameReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;只读状态：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;用户ID框：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">(</span><span class="token interpolation-string interpolation expression language-csharp">isUserIdReadOnly </span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">?</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#e3116c">&quot;只读&quot;</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#e3116c">&quot;可编辑&quot;</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">)</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;用户名框：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">(</span><span class="token interpolation-string interpolation expression language-csharp">isUserNameReadOnly </span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">?</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#e3116c">&quot;只读&quot;</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#e3116c">&quot;可编辑&quot;</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">)</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="三readonly属性的核心实用场景">三、ReadOnly属性的核心实用场景<a href="#三readonly属性的核心实用场景" class="hash-link" aria-label="Direct link to 三、ReadOnly属性的核心实用场景" title="Direct link to 三、ReadOnly属性的核心实用场景" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-展示只读数据最常用">1. 展示只读数据（最常用）<a href="#1-展示只读数据最常用" class="hash-link" aria-label="Direct link to 1. 展示只读数据（最常用）" title="Direct link to 1. 展示只读数据（最常用）" translate="no">​</a></h5>
<p>用于展示无需修改的静态数据，同时允许用户复制内容（如订单号、身份证号）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 展示身份证号（只读，允许复制）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxIdCard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxIdCard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;110101199001011234&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxIdCard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Cursor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Cursors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 光标改为默认，提示不可编辑（可选）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-临时锁定输入表单预览提交后">2. 临时锁定输入（表单预览/提交后）<a href="#2-临时锁定输入表单预览提交后" class="hash-link" aria-label="Direct link to 2. 临时锁定输入（表单预览/提交后）" title="Direct link to 2. 临时锁定输入（表单预览/提交后）" translate="no">​</a></h5>
<p>表单提交、预览时，临时将输入框设为只读，防止用户误修改，取消预览/重新编辑时可恢复：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 预览表单：锁定输入</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnPreview_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SetAllTextBoxReadOnly</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;当前为预览模式，输入框只读（可复制）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 重新编辑：恢复可编辑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnEdit_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SetAllTextBoxReadOnly</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;当前为编辑模式，可修改内容&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 批量设置TextBox只读状态的工具方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SetAllTextBoxReadOnly</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">bool</span><span class="token plain"> isReadOnly</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Control</span><span class="token plain"> ctrl </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Controls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctrl </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token class-name">TextBox</span><span class="token plain"> tb </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Name </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;textBoxUserId&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 排除用户ID框</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> isReadOnly</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-密码框临时查看只读显示明文">3. 密码框临时查看（只读+显示明文）<a href="#3-密码框临时查看只读显示明文" class="hash-link" aria-label="Direct link to 3. 密码框临时查看（只读+显示明文）" title="Direct link to 3. 密码框临时查看（只读+显示明文）" translate="no">​</a></h5>
<p>结合<code>PasswordChar</code>，实现“只读查看密码明文”的功能（用户无法修改，仅可查看/复制）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 初始为密码框（掩码显示）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 查看密码：设为只读+显示明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnViewPwd_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 清空掩码，显示明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 关闭查看：恢复可编辑+掩码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnHidePwd_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPassword</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="四使用readonly的关键注意事项新手易混淆">四、使用ReadOnly的关键注意事项（新手易混淆）<a href="#四使用readonly的关键注意事项新手易混淆" class="hash-link" aria-label="Direct link to 四、使用ReadOnly的关键注意事项（新手易混淆）" title="Direct link to 四、使用ReadOnly的关键注意事项（新手易混淆）" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-核心区别readonly-vs-enabled重中之重">1. 核心区别：ReadOnly vs Enabled（重中之重）<a href="#1-核心区别readonly-vs-enabled重中之重" class="hash-link" aria-label="Direct link to 1. 核心区别：ReadOnly vs Enabled（重中之重）" title="Direct link to 1. 核心区别：ReadOnly vs Enabled（重中之重）" translate="no">​</a></h5>
<p>新手极易混淆<code>ReadOnly = true</code>和<code>Enabled = false</code>，两者效果差异巨大，清晰对比如下：</p>
<table><thead><tr><th>特性</th><th><code>ReadOnly = true</code></th><th><code>Enabled = false</code></th></tr></thead><tbody><tr><td>用户编辑</td><td>❌ 不可编辑</td><td>❌ 不可编辑</td></tr><tr><td>聚焦/选中/复制</td><td>✅ 可聚焦、选中、复制文本</td><td>❌ 无法聚焦，也无法选中/复制文本</td></tr><tr><td>程序修改Text</td><td>✅ 可通过代码赋值/修改</td><td>❌ 禁止修改（代码赋值也无效）</td></tr><tr><td>视觉样式</td><td>正常（无灰显）</td><td>灰显（控件变浅，提示不可用）</td></tr><tr><td>事件响应</td><td>可响应Click、GotFocus等事件</td><td>不响应任何用户交互事件</td></tr><tr><td>适用场景</td><td>展示可复制的只读数据（如订单号）</td><td>完全禁用控件（如无权限操作）</td></tr></tbody></table>
<p>示例对比：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ReadOnly=true：可聚焦、复制，程序可改Text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ReadOnly状态&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 生效</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Focus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 生效（可选中复制）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Enabled=false：灰显、不可聚焦，程序改Text也无效</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Enabled=false状态&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 无效（Text不变）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Focus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 无效（无法聚焦）</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-readonlytrue时仍可执行的操作">2. ReadOnly=true时仍可执行的操作<a href="#2-readonlytrue时仍可执行的操作" class="hash-link" aria-label="Direct link to 2. ReadOnly=true时仍可执行的操作" title="Direct link to 2. ReadOnly=true时仍可执行的操作" translate="no">​</a></h5>
<ul>
<li class="">控件可聚焦（按Tab键或点击），光标会显示在文本中；</li>
<li class="">可选中全部/部分文本（鼠标拖动或Ctrl+A），并复制（Ctrl+C）；</li>
<li class="">程序可自由修改<code>Text</code>属性（不受限制）；</li>
<li class="">仍会响应<code>GotFocus</code>、<code>LostFocus</code>、<code>Click</code>等事件。</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-视觉样式优化默认无标识">3. 视觉样式优化（默认无标识）<a href="#3-视觉样式优化默认无标识" class="hash-link" aria-label="Direct link to 3. 视觉样式优化（默认无标识）" title="Direct link to 3. 视觉样式优化（默认无标识）" translate="no">​</a></h5>
<p><code>ReadOnly = true</code>时，TextBox视觉上无任何变化（和可编辑状态一致），用户可能误以为可编辑，建议手动调整样式提示：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 只读状态下调整样式，提示用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SetTextBoxReadOnlyStyle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">TextBox</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#00009f">bool</span><span class="token plain"> isReadOnly</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> isReadOnly</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isReadOnly</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Gray</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 文字置灰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Cursor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Cursors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Arrow</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 光标改为箭头（默认是I型）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Black</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 恢复黑色</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Cursor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Cursors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IBeam</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 恢复输入光标</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 使用示例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">SetTextBoxReadOnlyStyle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxUserId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-密码框的readonly表现">4. 密码框的ReadOnly表现<a href="#4-密码框的readonly表现" class="hash-link" aria-label="Direct link to 4. 密码框的ReadOnly表现" title="Direct link to 4. 密码框的ReadOnly表现" translate="no">​</a></h5>
<p>当TextBox设置<code>PasswordChar</code>（密码框）且<code>ReadOnly = true</code>时：</p>
<ul>
<li class="">用户仍无法编辑文本，但可选中/复制文本（复制的是明文，而非掩码字符）；</li>
<li class="">若需禁止复制密码，需结合<code>Enabled = false</code>或自定义处理（如屏蔽Ctrl+C）。</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-快捷键的影响">5. 快捷键的影响<a href="#5-快捷键的影响" class="hash-link" aria-label="Direct link to 5. 快捷键的影响" title="Direct link to 5. 快捷键的影响" translate="no">​</a></h5>
<p><code>ReadOnly = true</code>时，仅编辑类快捷键（Ctrl+V、Delete、Backspace）失效，复制/选中类快捷键（Ctrl+A、Ctrl+C）仍生效。</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结-2">总结<a href="#总结-2" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>ReadOnly</code>是bool属性，核心控制“用户是否可手动编辑”，设为true时仍可聚焦、复制，程序也能修改<code>Text</code>；</li>
<li class="">核心用法：展示只读可复制的数据、临时锁定输入框、密码明文查看；</li>
<li class="">关键区别：和<code>Enabled = false</code>相比，<code>ReadOnly = true</code>保留聚焦/复制/程序修改能力，视觉无灰显；</li>
<li class="">优化建议：只读状态下手动调整文字颜色/光标样式，提升用户体验。</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4passwordchar属性">4.PasswordChar属性<a href="#4passwordchar属性" class="hash-link" aria-label="Direct link to 4.PasswordChar属性" title="Direct link to 4.PasswordChar属性" translate="no">​</a></h3>
<p>你想掌握WinForm中TextBox控件的<code>PasswordChar</code>属性用法，包括核心作用、设置/取消密码掩码的方式、和系统默认密码字符的区别，以及实际开发中的实用场景（如切换密码显隐）和关键注意事项，对吧？</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="一passwordchar属性核心定义">一、PasswordChar属性核心定义<a href="#一passwordchar属性核心定义" class="hash-link" aria-label="Direct link to 一、PasswordChar属性核心定义" title="Direct link to 一、PasswordChar属性核心定义" translate="no">​</a></h4>
<p>TextBox的<code>PasswordChar</code>属性是<strong>可读可写的字符（char）类型属性</strong>，核心作用是为TextBox设置<strong>密码掩码字符</strong>——当该属性设为非空字符时，用户输入的明文内容会被该字符替代显示（仅界面隐藏，<code>Text</code>属性仍存储真实明文），实现密码输入的隐私保护。</p>
<ul>
<li class="">默认值：<code>\0</code>（空字符，等价于<code>char.MinValue</code>，表示不启用密码掩码，直接显示明文）；</li>
<li class="">核心限制：仅在<code>Multiline = false</code>（单行模式，默认）时生效，<strong>多行模式下PasswordChar完全无效</strong>（WinForm设计规则，无法通过该属性实现多行密码框）；</li>
<li class="">取值规则：可设为任意单个字符（如<code>*</code>、<code>●</code>、<code>#</code>等），设为<code>\0</code>则恢复明文显示。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二passwordchar属性基础用法附代码示例">二、PasswordChar属性基础用法（附代码示例）<a href="#二passwordchar属性基础用法附代码示例" class="hash-link" aria-label="Direct link to 二、PasswordChar属性基础用法（附代码示例）" title="Direct link to 二、PasswordChar属性基础用法（附代码示例）" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-静态设置密码掩码窗体加载时">1. 静态设置密码掩码（窗体加载时）<a href="#1-静态设置密码掩码窗体加载时" class="hash-link" aria-label="Direct link to 1. 静态设置密码掩码（窗体加载时）" title="Direct link to 1. 静态设置密码掩码（窗体加载时）" translate="no">​</a></h5>
<p>初始化时将TextBox设为密码框，指定固定掩码字符（最常用的基础场景）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例1：设置星号（*）作为密码掩码（最常用）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入密码（6-16位）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 配合MaxLength限制密码长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例2：设置圆点（●）作为密码掩码（更贴近系统样式）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;●&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入确认密码&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例3：默认状态（不设置，等价于PasswordChar = &#x27;\0&#x27;）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxNormal</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 明文显示，非密码框</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-动态切换密码显隐按钮点击">2. 动态切换密码显隐（按钮点击）<a href="#2-动态切换密码显隐按钮点击" class="hash-link" aria-label="Direct link to 2. 动态切换密码显隐（按钮点击）" title="Direct link to 2. 动态切换密码显隐（按钮点击）" translate="no">​</a></h5>
<p>通过切换<code>PasswordChar</code>的值，实现“显示密码明文/隐藏为掩码”的切换功能（提升用户体验）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 标记当前是否显示明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#00009f">bool</span><span class="token plain"> isShowPwd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 点击按钮切换密码显隐</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnTogglePwd_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isShowPwd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 隐藏：恢复密码掩码（星号）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        btnTogglePwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;显示密码&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 显示：清空掩码，展示明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        btnTogglePwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;隐藏密码&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isShowPwd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">isShowPwd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 切换状态标记</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-读取passwordchar值判断掩码状态">3. 读取PasswordChar值（判断掩码状态）<a href="#3-读取passwordchar值判断掩码状态" class="hash-link" aria-label="Direct link to 3. 读取PasswordChar值（判断掩码状态）" title="Direct link to 3. 读取PasswordChar值（判断掩码状态）" translate="no">​</a></h5>
<p>读取当前设置的掩码字符，用于业务逻辑校验（如判断是否为密码框模式）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnCheckPwdMode_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取PasswordChar值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">char</span><span class="token plain"> pwdChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 判断是否启用密码掩码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pwdChar </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;当前为明文显示模式（非密码框）&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;当前为密码框模式，掩码字符：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">pwdChar</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="三passwordchar的核心实用场景">三、PasswordChar的核心实用场景<a href="#三passwordchar的核心实用场景" class="hash-link" aria-label="Direct link to 三、PasswordChar的核心实用场景" title="Direct link to 三、PasswordChar的核心实用场景" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-基础密码输入框带长度校验">1. 基础密码输入框（带长度校验）<a href="#1-基础密码输入框带长度校验" class="hash-link" aria-label="Direct link to 1. 基础密码输入框（带长度校验）" title="Direct link to 1. 基础密码输入框（带长度校验）" translate="no">​</a></h5>
<p>结合<code>MaxLength</code>和<code>TextChanged</code>，实现带长度提示的密码输入框：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入密码&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 实时显示密码长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">textBoxPwd_TextChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> currentLen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> maxLen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelPwdTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;密码长度：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">currentLen</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">/</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">maxLen</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 长度不足6位标橙，达标标绿</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelPwdTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> currentLen </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Green </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Orange</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-密码显隐切换结合checkbox">2. 密码显隐切换（结合CheckBox）<a href="#2-密码显隐切换结合checkbox" class="hash-link" aria-label="Direct link to 2. 密码显隐切换（结合CheckBox）" title="Direct link to 2. 密码显隐切换（结合CheckBox）" translate="no">​</a></h5>
<p>用CheckBox替代按钮，实现更直观的密码显隐切换（常见于登录界面）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 绑定CheckBox的状态变更事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    checkBoxShowPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CheckedChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> CheckBoxShowPwd_CheckedChanged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    checkBoxShowPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;显示密码&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// CheckBox状态变更时切换密码显隐</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">CheckBoxShowPwd_CheckedChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">CheckBox</span><span class="token plain"> cb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sender </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token class-name">CheckBox</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cb </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 勾选则显示明文，否则显示掩码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Checked </span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-区分passwordchar和usesystempasswordchar">3. 区分PasswordChar和UseSystemPasswordChar<a href="#3-区分passwordchar和usesystempasswordchar" class="hash-link" aria-label="Direct link to 3. 区分PasswordChar和UseSystemPasswordChar" title="Direct link to 3. 区分PasswordChar和UseSystemPasswordChar" translate="no">​</a></h5>
<p>WinForm还提供<code>UseSystemPasswordChar</code>（布尔属性），用于使用系统默认密码掩码字符，两者核心区别和优先级如下：</p>
<table><thead><tr><th>特性</th><th><code>PasswordChar</code></th><th><code>UseSystemPasswordChar</code></th></tr></thead><tbody><tr><td>类型</td><td>char（自定义字符）</td><td>bool（是否使用系统默认）</td></tr><tr><td>优先级</td><td>低（UseSystemPasswordChar=true时失效）</td><td>高（启用后覆盖PasswordChar）</td></tr><tr><td>视觉效果</td><td>自定义字符（如*、●）</td><td>系统默认掩码（通常是●，随系统主题变化）</td></tr></tbody></table>
<p>示例对比：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例1：自定义掩码（PasswordChar）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;自定义掩码（*）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例2：系统默认掩码（UseSystemPasswordChar）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">UseSystemPasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;系统默认掩码（●）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例3：两者同时设置（UseSystemPasswordChar优先级更高）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;#&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 该设置会被覆盖</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">UseSystemPasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;系统掩码覆盖自定义&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="四使用passwordchar的关键注意事项">四、使用PasswordChar的关键注意事项<a href="#四使用passwordchar的关键注意事项" class="hash-link" aria-label="Direct link to 四、使用PasswordChar的关键注意事项" title="Direct link to 四、使用PasswordChar的关键注意事项" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-多行模式下passwordchar完全无效">1. 多行模式下PasswordChar完全无效<a href="#1-多行模式下passwordchar完全无效" class="hash-link" aria-label="Direct link to 1. 多行模式下PasswordChar完全无效" title="Direct link to 1. 多行模式下PasswordChar完全无效" translate="no">​</a></h5>
<p>当<code>Multiline = true</code>时，无论设置何种<code>PasswordChar</code>值，TextBox都会显示明文（WinForm的设计限制），如需多行密码框需自定义实现（新手不推荐）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 无效！多行模式仍显示明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;多行密码框无效示例&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-text属性始终存储明文">2. Text属性始终存储明文<a href="#2-text属性始终存储明文" class="hash-link" aria-label="Direct link to 2. Text属性始终存储明文" title="Direct link to 2. Text属性始终存储明文" translate="no">​</a></h5>
<p>无论是否设置<code>PasswordChar</code>，<code>Text</code>属性都存储用户输入的<strong>原始明文</strong>，仅界面显示掩码——读取密码时直接取<code>Text</code>即可，无需解密：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnGetPwd_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取真实密码（明文）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> realPwd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 展示密码（用*替代显示，保护隐私）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;密码明文：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">realPwd</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">\n密码掩码展示：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp keyword" style="color:#00009f">new</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp constructor-invocation class-name keyword" style="color:#00009f">string</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">(</span><span class="token interpolation-string interpolation expression language-csharp char">&#x27;*&#x27;</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">,</span><span class="token interpolation-string interpolation expression language-csharp"> realPwd</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Length</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">)</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-只读状态下仍可复制明文">3. 只读状态下仍可复制明文<a href="#3-只读状态下仍可复制明文" class="hash-link" aria-label="Direct link to 3. 只读状态下仍可复制明文" title="Direct link to 3. 只读状态下仍可复制明文" translate="no">​</a></h5>
<p>当<code>ReadOnly = true</code>时，用户无法编辑密码，但仍可选中/复制文本（复制的是明文，而非掩码字符）；若需禁止复制，需结合<code>Enabled = false</code>：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 只读状态：可复制明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Focus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 可聚焦，选中后Ctrl+C复制明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 禁用状态：不可复制，灰显</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Focus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 无法聚焦，无法复制</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-空字符的正确设置方式">4. 空字符的正确设置方式<a href="#4-空字符的正确设置方式" class="hash-link" aria-label="Direct link to 4. 空字符的正确设置方式" title="Direct link to 4. 空字符的正确设置方式" translate="no">​</a></h5>
<p>设置<code>PasswordChar</code>为明文模式时，需赋值<code>\0</code>（空字符），而非<code>&#x27; &#x27;</code>（空格）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ✅ 正确：清空掩码，显示明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ❌ 错误：掩码变为空格，仍隐藏明文（用户输入的每个字符显示为空格）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27; &#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结-3">总结<a href="#总结-3" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>PasswordChar</code>是char类型属性，用于设置密码掩码字符，默认<code>\0</code>（明文），仅单行模式生效；</li>
<li class="">核心用法：静态设置密码掩码、动态切换密码显隐（按钮/CheckBox），结合<code>MaxLength</code>限制密码长度；</li>
<li class="">关键优先级：<code>UseSystemPasswordChar = true</code>时会覆盖<code>PasswordChar</code>的自定义设置；</li>
<li class="">核心注意：<code>Text</code>始终存储明文，多行模式下<code>PasswordChar</code>无效，只读状态仍可复制明文。</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5multiline属性">5.Multiline属性<a href="#5multiline属性" class="hash-link" aria-label="Direct link to 5.Multiline属性" title="Direct link to 5.Multiline属性" translate="no">​</a></h3>
<p>你想掌握WinForm中TextBox控件的<code>Multiline</code>属性用法，包括核心作用、开启/关闭后的效果差异、单行/多行模式的行为区别，以及结合滚动条、换行符等的实用场景和关键注意事项，对吧？</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="一multiline属性核心定义">一、Multiline属性核心定义<a href="#一multiline属性核心定义" class="hash-link" aria-label="Direct link to 一、Multiline属性核心定义" title="Direct link to 一、Multiline属性核心定义" translate="no">​</a></h4>
<p>TextBox的<code>Multiline</code>属性是<strong>可读可写的布尔类型（bool）属性</strong>，核心作用是控制TextBox是否允许输入/显示<strong>多行文本</strong>：</p>
<ul>
<li class="">默认值：<code>false</code>（单行模式）—— 文本仅在一行显示，超出宽度会横向滚动（无滚动条），Enter键视为“确认”（触发窗体默认按钮），且无法手动调整TextBox的高度（Size.Height失效）；</li>
<li class="">设为<code>true</code>（多行模式）—— 支持文本换行显示，Enter键触发换行，可自由调整TextBox的高度（Size.Height生效），还能配合<code>ScrollBars</code>属性显示滚动条，<code>AutoSize</code>属性对多行模式完全无效（必须手动设置Size）。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二multiline属性基础用法附代码示例">二、Multiline属性基础用法（附代码示例）<a href="#二multiline属性基础用法附代码示例" class="hash-link" aria-label="Direct link to 二、Multiline属性基础用法（附代码示例）" title="Direct link to 二、Multiline属性基础用法（附代码示例）" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-静态设置多行模式窗体加载时">1. 静态设置多行模式（窗体加载时）<a href="#1-静态设置多行模式窗体加载时" class="hash-link" aria-label="Direct link to 1. 静态设置多行模式（窗体加载时）" title="Direct link to 1. 静态设置多行模式（窗体加载时）" translate="no">​</a></h5>
<p>初始化时开启多行模式，适配备注、留言等需输入长文本的场景：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例1：基础多行文本框（带垂直滚动条）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 开启多行模式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 手动设置宽高（多行模式Height生效）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScrollBars </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ScrollBars</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Vertical</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 仅显示垂直滚动条（文本超高度时出现）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 限制最大字符数（.NET 4.0+对多行生效）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入备注（最多500字，支持换行）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 初始化多行文本（用Environment.NewLine换行，跨平台兼容）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;初始备注：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">1. 无特殊要求</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">2. 可换行输入详细信息&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 示例2：单行模式（默认，可省略Multiline=false）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxSingleLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxSingleLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 单行模式Height仅显示一行高度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxSingleLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;单行输入框（Enter键触发确认）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-动态切换单行多行模式按钮点击">2. 动态切换单行/多行模式（按钮点击）<a href="#2-动态切换单行多行模式按钮点击" class="hash-link" aria-label="Direct link to 2. 动态切换单行/多行模式（按钮点击）" title="Direct link to 2. 动态切换单行/多行模式（按钮点击）" translate="no">​</a></h5>
<p>根据业务需求临时切换模式（如普通输入/长文本编辑）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 点击按钮切换单行/多行模式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnToggleMultiline_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 切换Multiline状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 切换为多行：调整尺寸、显示滚动条、提示换行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScrollBars </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ScrollBars</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Vertical</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;当前为多行模式（Enter键换行）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        btnToggleMultiline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;切换为单行模式&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 切换为单行：恢复单行尺寸、隐藏滚动条、提示Enter确认</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScrollBars </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ScrollBars</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">None</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;当前为单行模式（Enter键确认）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        btnToggleMultiline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;切换为多行模式&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-读取multiline状态判断当前模式">3. 读取Multiline状态（判断当前模式）<a href="#3-读取multiline状态判断当前模式" class="hash-link" aria-label="Direct link to 3. 读取Multiline状态（判断当前模式）" title="Direct link to 3. 读取Multiline状态（判断当前模式）" translate="no">​</a></h5>
<p>读取状态用于业务逻辑校验（如仅对多行文本框统计行数）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnCheckMode_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">bool</span><span class="token plain"> isMultiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> modeDesc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> isMultiline </span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;多行模式&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;单行模式&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;TextBox当前模式：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">modeDesc</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">\n可输入行数：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">(</span><span class="token interpolation-string interpolation expression language-csharp">isMultiline </span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">?</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#e3116c">&quot;无限制（带滚动条）&quot;</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#e3116c">&quot;仅1行&quot;</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">)</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="三multiline属性的核心实用场景">三、Multiline属性的核心实用场景<a href="#三multiline属性的核心实用场景" class="hash-link" aria-label="Direct link to 三、Multiline属性的核心实用场景" title="Direct link to 三、Multiline属性的核心实用场景" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-多行备注留言框最常用">1. 多行备注/留言框（最常用）<a href="#1-多行备注留言框最常用" class="hash-link" aria-label="Direct link to 1. 多行备注/留言框（最常用）" title="Direct link to 1. 多行备注/留言框（最常用）" translate="no">​</a></h5>
<p>结合<code>ScrollBars</code>、<code>MaxLength</code>和<code>TextChanged</code>，实现带行数/字符数统计的多行输入框：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxComment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxComment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">350</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">150</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxComment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScrollBars </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ScrollBars</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Vertical</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxComment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 绑定文本变化事件，实时统计</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxComment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> TextBoxComment_TextChanged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 实时统计行数和字符数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TextBoxComment_TextChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TextBox</span><span class="token plain"> tb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sender </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token class-name">TextBox</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 统计字符数（含换行符）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> charCount </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> maxChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 统计行数（按换行符拆分）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token class-name punctuation" style="color:#393A34">[</span><span class="token class-name punctuation" style="color:#393A34">]</span><span class="token plain"> lines </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NewLine </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> StringSplitOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> lineCount </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lines</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 显示统计信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelStat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;行数：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">lineCount</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> | 字符数：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">charCount</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">/</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">maxChar</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 字符数超限时标红</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelStat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> charCount </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> maxChar </span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Red </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Black</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-读取拆分多行文本">2. 读取/拆分多行文本<a href="#2-读取拆分多行文本" class="hash-link" aria-label="Direct link to 2. 读取/拆分多行文本" title="Direct link to 2. 读取/拆分多行文本" translate="no">​</a></h5>
<p>多行模式下，可按换行符拆分文本为单行数组，便于批量处理（如导入/导出文本）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 读取并拆分多行文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnReadMultiText_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">textBoxComment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;当前为单行模式，无多行文本可拆分&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> multiText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxComment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 按系统换行符拆分（避免跨平台问题）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token class-name punctuation" style="color:#393A34">[</span><span class="token class-name punctuation" style="color:#393A34">]</span><span class="token plain"> lines </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> multiText</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NewLine </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> StringSplitOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RemoveEmptyEntries</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 拼接拆分结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;多行文本拆分结果：\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> lines</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;第</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">i</span><span class="token interpolation-string interpolation expression language-csharp operator" style="color:#393A34">+</span><span class="token interpolation-string interpolation expression language-csharp number" style="color:#36acaa">1</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">行：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">lines</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">[</span><span class="token interpolation-string interpolation expression language-csharp">i</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">]</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelResult</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-调整enter键行为">3. 调整Enter键行为<a href="#3-调整enter键行为" class="hash-link" aria-label="Direct link to 3. 调整Enter键行为" title="Direct link to 3. 调整Enter键行为" translate="no">​</a></h5>
<p>多行模式下Enter键默认换行，单行模式下Enter键触发窗体“默认按钮”（如提交按钮），可通过代码自定义该行为：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 单行输入框：Enter键触发提交</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxSingleLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxSingleLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KeyDown </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> TextBoxSingleLine_KeyDown</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 多行输入框：Enter键换行（默认行为，无需额外处理）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 单行模式下，Enter键触发提交按钮点击</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TextBoxSingleLine_KeyDown</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">KeyEventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KeyCode </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> Keys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Enter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        btnSubmit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">PerformClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 模拟点击提交按钮</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SuppressKeyPress </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 阻止Enter键的默认音效</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 提交按钮逻辑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnSubmit_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;提交内容：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBoxSingleLine</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Text</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="四使用multiline的关键注意事项">四、使用Multiline的关键注意事项<a href="#四使用multiline的关键注意事项" class="hash-link" aria-label="Direct link to 四、使用Multiline的关键注意事项" title="Direct link to 四、使用Multiline的关键注意事项" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-passwordchar在多行模式下完全无效">1. PasswordChar在多行模式下完全无效<a href="#1-passwordchar在多行模式下完全无效" class="hash-link" aria-label="Direct link to 1. PasswordChar在多行模式下完全无效" title="Direct link to 1. PasswordChar在多行模式下完全无效" translate="no">​</a></h5>
<p>这是WinForm的核心设计规则：当<code>Multiline = true</code>时，无论是否设置<code>PasswordChar</code>/<code>UseSystemPasswordChar</code>，TextBox都会显示明文，无法实现“多行密码框”：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwdMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwdMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 无效！多行模式仍显示明文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwdMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;多行密码无效示例\n第二行明文&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-autosize对多行模式无效">2. AutoSize对多行模式无效<a href="#2-autosize对多行模式无效" class="hash-link" aria-label="Direct link to 2. AutoSize对多行模式无效" title="Direct link to 2. AutoSize对多行模式无效" translate="no">​</a></h5>
<p>单行模式下<code>AutoSize = true</code>（默认）会自动调整宽度适配文本，但多行模式下<code>AutoSize</code>完全失效，必须<strong>手动设置Size</strong>（尤其是Height），否则TextBox会保持默认高度（仅能显示一行）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ❌ 错误：多行模式下AutoSize=true无效，Height仍为默认值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">AutoSize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ✅ 正确：手动设置Size，指定宽高</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">AutoSize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 显式关闭（可选，多行模式默认忽略）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-enter键与acceptsreturn属性">3. Enter键与AcceptsReturn属性<a href="#3-enter键与acceptsreturn属性" class="hash-link" aria-label="Direct link to 3. Enter键与AcceptsReturn属性" title="Direct link to 3. Enter键与AcceptsReturn属性" translate="no">​</a></h5>
<ul>
<li class="">默认：<code>Multiline = true</code>时<code>AcceptsReturn = true</code>（Enter键换行），<code>Multiline = false</code>时<code>AcceptsReturn = false</code>（Enter键触发默认按钮）；</li>
<li class="">自定义：可手动设置<code>AcceptsReturn</code>覆盖默认行为（如多行模式下禁止Enter换行）：<!-- -->
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 多行模式下禁止Enter换行（Enter键触发提交）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">AcceptsReturn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KeyDown </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KeyCode </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> Keys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Enter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> btnSubmit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">PerformClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-换行符的正确使用">4. 换行符的正确使用<a href="#4-换行符的正确使用" class="hash-link" aria-label="Direct link to 4. 换行符的正确使用" title="Direct link to 4. 换行符的正确使用" translate="no">​</a></h5>
<p>多行文本的换行符推荐用<code>Environment.NewLine</code>（跨Windows/Linux兼容），而非硬编码<code>\r\n</code>（仅Windows有效）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ✅ 推荐：跨平台兼容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxMulti</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;第一行</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">第二行</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">Environment</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">NewLine</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">第三行&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ❌ 不推荐：仅Windows有效</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// textBoxMulti.Text = &quot;第一行\r\n第二行\r\n第三行&quot;;</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-滚动条的配合使用">5. 滚动条的配合使用<a href="#5-滚动条的配合使用" class="hash-link" aria-label="Direct link to 5. 滚动条的配合使用" title="Direct link to 5. 滚动条的配合使用" translate="no">​</a></h5>
<p>多行模式下建议配合<code>ScrollBars</code>属性，避免文本超出控件范围无法查看：</p>
<ul>
<li class=""><code>ScrollBars.None</code>：无滚动条（文本超尺寸时被截断）；</li>
<li class=""><code>ScrollBars.Vertical</code>：仅垂直滚动条（推荐，适配长文本）；</li>
<li class=""><code>ScrollBars.Horizontal</code>：仅水平滚动条（文本不换行时使用）；</li>
<li class=""><code>ScrollBars.Both</code>：水平+垂直滚动条（适配无规则长文本）。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结-4">总结<a href="#总结-4" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>Multiline</code>是布尔属性，默认<code>false</code>（单行），设为<code>true</code>时支持多行文本、调整高度、Enter键换行，<code>AutoSize</code>失效；</li>
<li class="">核心用法：多行备注/留言框（结合<code>ScrollBars</code>/<code>MaxLength</code>）、读取/拆分多行文本、自定义Enter键行为；</li>
<li class="">关键限制：<code>PasswordChar</code>在多行模式下无效，必须手动设置<code>Size</code>，换行符优先用<code>Environment.NewLine</code>；</li>
<li class="">行为差异：单行模式Enter键触发默认按钮，多行模式Enter键默认换行（可通过<code>AcceptsReturn</code>调整）。</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6selectedtext属性">6.SelectedText属性<a href="#6selectedtext属性" class="hash-link" aria-label="Direct link to 6.SelectedText属性" title="Direct link to 6.SelectedText属性" translate="no">​</a></h3>
<p>你想掌握WinForm中TextBox控件的<code>SelectedText</code>属性用法，包括核心作用、读取/修改选中文本的方式、实用场景（如替换选中内容、自定义复制粘贴），以及和<code>Text</code>属性的区别、使用时的关键注意事项，对吧？</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="一selectedtext属性核心定义">一、SelectedText属性核心定义<a href="#一selectedtext属性核心定义" class="hash-link" aria-label="Direct link to 一、SelectedText属性核心定义" title="Direct link to 一、SelectedText属性核心定义" translate="no">​</a></h4>
<p>TextBox的<code>SelectedText</code>属性是<strong>可读可写的字符串类型属性</strong>，核心作用是：</p>
<ul>
<li class="">读取：获取当前被用户选中（鼠标拖动/键盘选择）的文本片段；</li>
<li class="">设置：用新字符串<strong>替换</strong>当前选中的文本（无选中时，新内容会直接插入到光标所在位置）。</li>
<li class="">核心特征：<!-- -->
<ul>
<li class="">无选中文本时，读取返回空字符串（<code>&quot;&quot;</code>）；</li>
<li class="">赋值后选中状态会自动取消，光标移至新内容的末尾；</li>
<li class="">支持单行/多行模式，跨行吗本的选中和替换规则一致；</li>
<li class="">仅依赖“选中状态”，不受<code>MaxLength</code>直接限制（但最终<code>Text</code>总长度仍需符合<code>MaxLength</code>）。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二selectedtext属性基础用法附代码示例">二、SelectedText属性基础用法（附代码示例）<a href="#二selectedtext属性基础用法附代码示例" class="hash-link" aria-label="Direct link to 二、SelectedText属性基础用法（附代码示例）" title="Direct link to 二、SelectedText属性基础用法（附代码示例）" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-读取选中的文本最基础用法">1. 读取选中的文本（最基础用法）<a href="#1-读取选中的文本最基础用法" class="hash-link" aria-label="Direct link to 1. 读取选中的文本（最基础用法）" title="Direct link to 1. 读取选中的文本（最基础用法）" translate="no">​</a></h5>
<p>获取用户选中的文本片段，用于复制、校验、替换等逻辑：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnReadSelected_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取当前选中的文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> selected </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">selected</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;未选中任何文本！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;选中的文本：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">selected</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">\n选中长度：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">selected</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Length</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-替换选中的文本核心场景">2. 替换选中的文本（核心场景）<a href="#2-替换选中的文本核心场景" class="hash-link" aria-label="Direct link to 2. 替换选中的文本（核心场景）" title="Direct link to 2. 替换选中的文本（核心场景）" translate="no">​</a></h5>
<p>用指定内容替换选中的文本，无选中时插入到光标位置：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 示例1：将选中的文本替换为【已替换】</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnReplaceSelected_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;请先选中需要替换的文本！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 替换选中的文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;【已替换】&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 替换后选中状态消失，光标移至替换内容末尾</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 示例2：无选中时，插入固定内容到光标位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnInsertText_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 无论是否选中，直接赋值SelectedText：有选中则替换，无选中则插入</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;[</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">DateTime</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Now</span><span class="token interpolation-string interpolation format-string punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation format-string">HH:mm:ss</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">] &quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-清空选中的文本">3. 清空选中的文本<a href="#3-清空选中的文本" class="hash-link" aria-label="Direct link to 3. 清空选中的文本" title="Direct link to 3. 清空选中的文本" translate="no">​</a></h5>
<p>通过赋值空字符串，快速删除选中的文本：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnDeleteSelected_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;未选中任何文本，无需删除！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 赋值空字符串，删除选中的文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="三selectedtext的核心实用场景">三、SelectedText的核心实用场景<a href="#三selectedtext的核心实用场景" class="hash-link" aria-label="Direct link to 三、SelectedText的核心实用场景" title="Direct link to 三、SelectedText的核心实用场景" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-自定义复制剪切粘贴功能">1. 自定义复制/剪切/粘贴功能<a href="#1-自定义复制剪切粘贴功能" class="hash-link" aria-label="Direct link to 1. 自定义复制/剪切/粘贴功能" title="Direct link to 1. 自定义复制/剪切/粘贴功能" translate="no">​</a></h5>
<p>结合<code>SelectedText</code>实现自定义的复制、剪切、粘贴逻辑（替代系统快捷键）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 自定义复制：将选中的文本复制到剪贴板</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnCopy_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Clipboard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;复制成功！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;无选中文本可复制！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 自定义剪切：复制+删除选中的文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnCut_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Clipboard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 删除选中的文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;剪切成功！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;无选中文本可剪切！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 自定义粘贴：将剪贴板内容插入到光标/替换选中文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnPaste_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Clipboard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ContainsText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> pasteText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Clipboard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pasteText</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 插入/替换</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;粘贴成功！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;剪贴板中无文本可粘贴！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-批量替换选中的敏感词">2. 批量替换选中的敏感词<a href="#2-批量替换选中的敏感词" class="hash-link" aria-label="Direct link to 2. 批量替换选中的敏感词" title="Direct link to 2. 批量替换选中的敏感词" translate="no">​</a></h5>
<p>对选中的文本进行关键词替换（如过滤敏感词、统一格式）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 替换选中文本中的敏感词（示例：将&quot;测试&quot;替换为&quot;示例&quot;）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnReplaceSensitive_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> selected </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">selected</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;请先选中文本！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 替换敏感词</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> newText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> selected</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;测试&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;示例&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> newText</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;敏感词替换完成！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-全选文本后操作结合selectall">3. 全选文本后操作（结合SelectAll()）<a href="#3-全选文本后操作结合selectall" class="hash-link" aria-label="Direct link to 3. 全选文本后操作（结合SelectAll()）" title="Direct link to 3. 全选文本后操作（结合SelectAll()）" translate="no">​</a></h5>
<p>先通过<code>SelectAll()</code>选中全部文本，再用<code>SelectedText</code>批量修改：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 全选文本并转换为大写</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnToUpper_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;文本框为空！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SelectAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 选中全部文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ToUpper</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 转换为大写</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 全选文本并清空</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnClearAll_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SelectAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 等价于textBoxDemo.Clear()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-定位光标后插入固定内容">4. 定位光标后插入固定内容<a href="#4-定位光标后插入固定内容" class="hash-link" aria-label="Direct link to 4. 定位光标后插入固定内容" title="Direct link to 4. 定位光标后插入固定内容" translate="no">​</a></h5>
<p>结合<code>SelectionStart</code>（光标位置）和<code>SelectedText</code>，在指定位置插入内容：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 在文本开头插入标题</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnInsertTitle_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 将光标移至文本开头</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectionStart </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 取消选中（避免替换原有文本）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectionLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 插入标题</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;【备注】&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="四使用selectedtext的关键注意事项">四、使用SelectedText的关键注意事项<a href="#四使用selectedtext的关键注意事项" class="hash-link" aria-label="Direct link to 四、使用SelectedText的关键注意事项" title="Direct link to 四、使用SelectedText的关键注意事项" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-核心区别selectedtext-vs-text新手易混淆">1. 核心区别：SelectedText vs Text（新手易混淆）<a href="#1-核心区别selectedtext-vs-text新手易混淆" class="hash-link" aria-label="Direct link to 1. 核心区别：SelectedText vs Text（新手易混淆）" title="Direct link to 1. 核心区别：SelectedText vs Text（新手易混淆）" translate="no">​</a></h5>
<table><thead><tr><th>特性</th><th><code>SelectedText</code></th><th><code>Text</code></th></tr></thead><tbody><tr><td>作用</td><td>仅操作<strong>选中的文本片段</strong>（无选中则插入）</td><td>操作<strong>全部文本内容</strong></td></tr><tr><td>赋值效果</td><td>替换选中文本/插入到光标位置</td><td>覆盖整个文本内容</td></tr><tr><td>无选中时读取</td><td>返回空字符串</td><td>返回全部文本</td></tr><tr><td>选中全文本时赋值</td><td>替换全部文本（等价于Text赋值）</td><td>覆盖全部文本</td></tr></tbody></table>
<p>示例对比：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 假设TextBox.Text = &quot;Hello World&quot;，选中了&quot;World&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CSharp&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 结果：Text = &quot;Hello CSharp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CSharp&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 结果：Text = &quot;CSharp&quot;（覆盖全部）</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-只读禁用状态的影响">2. 只读/禁用状态的影响<a href="#2-只读禁用状态的影响" class="hash-link" aria-label="Direct link to 2. 只读/禁用状态的影响" title="Direct link to 2. 只读/禁用状态的影响" translate="no">​</a></h5>
<ul>
<li class=""><code>ReadOnly = true</code>：仍可读取/修改<code>SelectedText</code>（选中、替换、插入都生效），但用户无法手动输入；</li>
<li class=""><code>Enabled = false</code>：完全无法操作<code>SelectedText</code>（读取为空，赋值无效），控件灰显且无光标。</li>
</ul>
<p>示例：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SelectAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;只读状态仍可替换文本&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 生效！</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-maxlength的间接限制">3. MaxLength的间接限制<a href="#3-maxlength的间接限制" class="hash-link" aria-label="Direct link to 3. MaxLength的间接限制" title="Direct link to 3. MaxLength的间接限制" translate="no">​</a></h5>
<p><code>SelectedText</code>赋值时，不会直接校验长度，但最终<code>Text</code>的总长度需符合<code>MaxLength</code>：</p>
<ul>
<li class="">若替换/插入后总长度超过<code>MaxLength</code>，超出部分会被自动截断；</li>
<li class="">示例：<code>MaxLength=5</code>，当前<code>Text=&quot;123&quot;</code>，选中<code>&quot;3&quot;</code>后赋值<code>&quot;456&quot;</code> → 最终<code>Text=&quot;12456&quot;</code>（刚好5位）。</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-多行模式下的选中规则">4. 多行模式下的选中规则<a href="#4-多行模式下的选中规则" class="hash-link" aria-label="Direct link to 4. 多行模式下的选中规则" title="Direct link to 4. 多行模式下的选中规则" translate="no">​</a></h5>
<p>多行模式下，<code>SelectedText</code>支持跨行吗本的选中和替换，换行符会被包含在选中内容中：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 多行文本：&quot;第一行\n第二行\n第三行&quot;，选中第二行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;替换后的第二行&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 结果：&quot;第一行\n替换后的第二行\n第三行&quot;</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-赋值后选中状态消失">5. 赋值后选中状态消失<a href="#5-赋值后选中状态消失" class="hash-link" aria-label="Direct link to 5. 赋值后选中状态消失" title="Direct link to 5. 赋值后选中状态消失" translate="no">​</a></h5>
<p>对<code>SelectedText</code>赋值后，无论是否有选中文本，选中状态都会被取消，光标会移至新内容的末尾：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SelectAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 选中全部文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectedText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;新内容&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 赋值后选中状态消失，光标在&quot;新内容&quot;末尾</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结-5">总结<a href="#总结-5" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>SelectedText</code>是TextBox的可读可写字符串属性，核心用于获取/替换选中的文本，无选中时赋值会插入到光标位置；</li>
<li class="">核心用法：自定义复制/剪切/粘贴、替换选中内容、全选文本批量修改、光标定位插入内容；</li>
<li class="">关键区别：和<code>Text</code>（全部文本）区分开，<code>ReadOnly=true</code>时仍可操作，<code>Enabled=false</code>时完全不可用；</li>
<li class="">注意事项：赋值后选中状态消失，<code>MaxLength</code>会间接限制最终文本长度，多行模式支持跨行选中替换。</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="7textlength属性">7.TextLength属性<a href="#7textlength属性" class="hash-link" aria-label="Direct link to 7.TextLength属性" title="Direct link to 7.TextLength属性" translate="no">​</a></h3>
<p>你想掌握WinForm中TextBox控件的<code>TextLength</code>属性用法，包括核心作用、读取方式、实用场景（如实时显示输入长度、校验文本长度），以及和<code>Text.Length</code>的区别、使用时的关键注意事项，对吧？</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="一textlength属性核心定义">一、TextLength属性核心定义<a href="#一textlength属性核心定义" class="hash-link" aria-label="Direct link to 一、TextLength属性核心定义" title="Direct link to 一、TextLength属性核心定义" translate="no">​</a></h4>
<p>TextBox的<code>TextLength</code>属性是<strong>只读的整型（int）属性</strong>，核心作用是<strong>实时获取<code>Text</code>属性中包含的字符总数</strong>（涵盖字母、数字、中文、空格、换行符、特殊符号等所有字符）：</p>
<ul>
<li class="">默认值：<code>0</code>（TextBox为空时）；</li>
<li class="">核心特征：<!-- -->
<ul>
<li class="">只读属性，无法手动赋值（如<code>textBox1.TextLength = 10;</code>会编译报错）；</li>
<li class="">实时同步：<code>Text</code>内容变化时，<code>TextLength</code>会立即更新，无需手动刷新；</li>
<li class="">性能优势：相比<code>textBox1.Text.Length</code>，<code>TextLength</code>是控件内部维护的数值，直接读取无需创建字符串副本，大文本场景下更高效；</li>
<li class="">全场景生效：单行/多行、密码框、只读状态下均能准确返回真实文本长度。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二textlength属性基础用法附代码示例">二、TextLength属性基础用法（附代码示例）<a href="#二textlength属性基础用法附代码示例" class="hash-link" aria-label="Direct link to 二、TextLength属性基础用法（附代码示例）" title="Direct link to 二、TextLength属性基础用法（附代码示例）" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-基础读取获取当前文本长度">1. 基础读取：获取当前文本长度<a href="#1-基础读取获取当前文本长度" class="hash-link" aria-label="Direct link to 1. 基础读取：获取当前文本长度" title="Direct link to 1. 基础读取：获取当前文本长度" translate="no">​</a></h5>
<p>最核心的基础用法，直接读取<code>TextLength</code>值，用于展示、校验等逻辑：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnGetTextLength_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取当前文本长度（无需先获取Text，直接读属性）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> currentLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 对比Text.Length（结果一致，但性能不同）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> textLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxDemo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;当前文本长度：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">currentLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> 个字符\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;Text.Length对比：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> 个字符\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;两者结果：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">(</span><span class="token interpolation-string interpolation expression language-csharp">currentLength </span><span class="token interpolation-string interpolation expression language-csharp operator" style="color:#393A34">==</span><span class="token interpolation-string interpolation expression language-csharp"> textLength </span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">?</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#e3116c">&quot;一致&quot;</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation expression language-csharp"> </span><span class="token interpolation-string interpolation expression language-csharp string" style="color:#e3116c">&quot;不一致&quot;</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">)</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-实时显示输入长度结合textchanged事件">2. 实时显示输入长度（结合TextChanged事件）<a href="#2-实时显示输入长度结合textchanged事件" class="hash-link" aria-label="Direct link to 2. 实时显示输入长度（结合TextChanged事件）" title="Direct link to 2. 实时显示输入长度（结合TextChanged事件）" translate="no">​</a></h5>
<p>这是<code>TextLength</code>最常用的场景，实时反馈用户输入的字符数（配合<code>MaxLength</code>效果更佳）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 初始化：设置最大长度，绑定文本变化事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入内容（最多50字符）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> TextBoxInput_TextChanged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 文本变化时，实时更新长度提示</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TextBoxInput_TextChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TextBox</span><span class="token plain"> tb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sender </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token class-name">TextBox</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取TextLength，显示已输入/最大长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelLengthTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;已输入：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">tb</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TextLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">/</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">tb</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">MaxLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> 字符&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 视觉提示：长度不足6位标橙，达标标绿，满额标红</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelLengthTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Black</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelLengthTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Orange</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelLengthTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Red</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labelLengthTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Green</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="三textlength的核心实用场景">三、TextLength的核心实用场景<a href="#三textlength的核心实用场景" class="hash-link" aria-label="Direct link to 三、TextLength的核心实用场景" title="Direct link to 三、TextLength的核心实用场景" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-文本长度校验非空最小最大">1. 文本长度校验（非空/最小/最大）<a href="#1-文本长度校验非空最小最大" class="hash-link" aria-label="Direct link to 1. 文本长度校验（非空/最小/最大）" title="Direct link to 1. 文本长度校验（非空/最小/最大）" translate="no">​</a></h5>
<p>替代<code>Text.Length</code>进行长度校验，逻辑更简洁、性能更优：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 提交时校验文本长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnSubmit_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1. 校验非空（TextLength=0等价于Text为空）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;输入内容不能为空！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2. 校验最小长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> minLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> minLength</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;输入内容不能少于</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">minLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">个字符！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3. 校验最大长度（实际不会触发，因MaxLength会自动截断）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">textBoxInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> textBoxInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;输入内容不能超过</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBoxInput</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">MaxLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">个字符！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 校验通过，提交内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;提交成功！内容长度：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBoxInput</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TextLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> 字符&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-多行文本的行数字符数双统计">2. 多行文本的行数+字符数双统计<a href="#2-多行文本的行数字符数双统计" class="hash-link" aria-label="Direct link to 2. 多行文本的行数+字符数双统计" title="Direct link to 2. 多行文本的行数+字符数双统计" translate="no">​</a></h5>
<p>结合换行符拆分，同时统计行数和总字符数（<code>TextLength</code>包含换行符）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Multiline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScrollBars </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ScrollBars</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Vertical</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxMultiLine</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> TextBoxMultiLine_TextChanged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 多行文本：统计行数+总字符数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TextBoxMultiLine_TextChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TextBox</span><span class="token plain"> tb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sender </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token class-name">TextBox</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 总字符数（包含换行符）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> totalChars </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 行数（按系统换行符拆分）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token class-name punctuation" style="color:#393A34">[</span><span class="token class-name punctuation" style="color:#393A34">]</span><span class="token plain"> lines </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NewLine </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> StringSplitOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> lineCount </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lines</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelMultiTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;总行数：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">lineCount</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> | 总字符数：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">totalChars</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">（含换行符）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-密码框的真实长度校验">3. 密码框的真实长度校验<a href="#3-密码框的真实长度校验" class="hash-link" aria-label="Direct link to 3. 密码框的真实长度校验" title="Direct link to 3. 密码框的真实长度校验" translate="no">​</a></h5>
<p>密码框中<code>TextLength</code>返回<strong>真实明文的字符数</strong>（不受<code>PasswordChar</code>掩码影响），可用于密码长度校验：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> TextBoxPwd_TextChanged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 密码长度实时校验</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TextBoxPwd_TextChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TextBox</span><span class="token plain"> tb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sender </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token class-name">TextBox</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelPwdTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;密码长度：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">tb</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TextLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">/16&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelPwdTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Green </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Orange</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-大文本场景的高效长度读取">4. 大文本场景的高效长度读取<a href="#4-大文本场景的高效长度读取" class="hash-link" aria-label="Direct link to 4. 大文本场景的高效长度读取" title="Direct link to 4. 大文本场景的高效长度读取" translate="no">​</a></h5>
<p>当TextBox包含上万字符的大文本时，<code>TextLength</code>的性能优势尤为明显（避免创建字符串副本）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 模拟大文本场景，对比性能</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnBigTextTest_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 生成10万字符的大文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> bigText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token char">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxBigText</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bigText</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 测试TextLength读取耗时</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Stopwatch</span><span class="token plain"> sw1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Stopwatch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">StartNew</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> len1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxBigText</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sw1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Stop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 测试Text.Length读取耗时</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Stopwatch</span><span class="token plain"> sw2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Stopwatch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">StartNew</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> len2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> textBoxBigText</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sw2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Stop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;大文本长度：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">len1</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> 字符\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;TextLength读取耗时：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">sw1</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Elapsed</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TotalMilliseconds</span><span class="token interpolation-string interpolation format-string punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation format-string">F4</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> ms\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;Text.Length读取耗时：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">sw2</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Elapsed</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TotalMilliseconds</span><span class="token interpolation-string interpolation format-string punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation format-string">F4</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> ms\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;性能差异：TextLength快 </span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">(</span><span class="token interpolation-string interpolation expression language-csharp">sw2</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Elapsed</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TotalMilliseconds </span><span class="token interpolation-string interpolation expression language-csharp operator" style="color:#393A34">/</span><span class="token interpolation-string interpolation expression language-csharp"> sw1</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Elapsed</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TotalMilliseconds</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">)</span><span class="token interpolation-string interpolation format-string punctuation" style="color:#393A34">:</span><span class="token interpolation-string interpolation format-string">F2</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> 倍&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="四使用textlength的关键注意事项">四、使用TextLength的关键注意事项<a href="#四使用textlength的关键注意事项" class="hash-link" aria-label="Direct link to 四、使用TextLength的关键注意事项" title="Direct link to 四、使用TextLength的关键注意事项" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-核心区别textlength-vs-textlength">1. 核心区别：TextLength vs Text.Length<a href="#1-核心区别textlength-vs-textlength" class="hash-link" aria-label="Direct link to 1. 核心区别：TextLength vs Text.Length" title="Direct link to 1. 核心区别：TextLength vs Text.Length" translate="no">​</a></h5>
<p>新手极易混淆两者，核心差异和选择原则如下：</p>
<table><thead><tr><th>特性</th><th><code>TextLength</code></th><th><code>Text.Length</code></th></tr></thead><tbody><tr><td>类型</td><td>控件只读属性</td><td>字符串实例属性</td></tr><tr><td>读取逻辑</td><td>直接读取控件内部维护的数值</td><td>先创建<code>Text</code>字符串副本，再取长度</td></tr><tr><td>性能</td><td>高效（尤其大文本）</td><td>低效（大文本时创建副本耗时）</td></tr><tr><td>结果</td><td>与<code>Text.Length</code>完全一致</td><td>与<code>TextLength</code>完全一致</td></tr><tr><td>适用场景</td><td>所有长度读取场景（推荐）</td><td>仅需同时操作字符串时使用</td></tr></tbody></table>
<p><strong>选择原则</strong>：仅需获取长度时，优先用<code>TextLength</code>；需同时对<code>Text</code>字符串做拆分/替换等操作时，再用<code>Text.Length</code>。</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-只读属性无法赋值">2. 只读属性，无法赋值<a href="#2-只读属性无法赋值" class="hash-link" aria-label="Direct link to 2. 只读属性，无法赋值" title="Direct link to 2. 只读属性，无法赋值" translate="no">​</a></h5>
<p><code>TextLength</code>是只读属性，任何手动赋值的尝试都会编译报错：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ❌ 错误：编译报错（属性或索引器“TextBox.TextLength”无法赋值 -- 它是只读的）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ✅ 正确：修改文本长度需通过Text属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;新文本&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// TextLength会自动更新为4</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-包含所有字符包括换行符空格">3. 包含所有字符（包括换行符/空格）<a href="#3-包含所有字符包括换行符空格" class="hash-link" aria-label="Direct link to 3. 包含所有字符（包括换行符/空格）" title="Direct link to 3. 包含所有字符（包括换行符/空格）" translate="no">​</a></h5>
<p><code>TextLength</code>会统计<strong>所有字符</strong>，包括：</p>
<ul>
<li class="">空格、制表符（<code>\t</code>）；</li>
<li class="">换行符（Windows下<code>\r\n</code>算2个字符，<code>Environment.NewLine</code>等价于<code>\r\n</code>）；</li>
<li class="">特殊符号（如<code>!@#$%^&amp;*</code>）。</li>
</ul>
<p>示例：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;第一行\r\n第二行&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 内容：第一行+换行+第二行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;TextLength：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBox1</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TextLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 输出：7（第一行3 + \r\n2 + 第二行2）</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-只读禁用状态的影响">4. 只读/禁用状态的影响<a href="#4-只读禁用状态的影响" class="hash-link" aria-label="Direct link to 4. 只读/禁用状态的影响" title="Direct link to 4. 只读/禁用状态的影响" translate="no">​</a></h5>
<ul>
<li class=""><code>ReadOnly = true</code>：<code>TextLength</code>仍实时更新（程序修改<code>Text</code>时，长度同步变化）；</li>
<li class=""><code>Enabled = false</code>：<code>TextLength</code>仍返回当前文本长度（仅无法修改<code>Text</code>，读取不受影响）。</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-maxlength的自动截断">5. MaxLength的自动截断<a href="#5-maxlength的自动截断" class="hash-link" aria-label="Direct link to 5. MaxLength的自动截断" title="Direct link to 5. MaxLength的自动截断" translate="no">​</a></h5>
<p>当通过代码赋值超过<code>MaxLength</code>的文本时，<code>Text</code>会被自动截断，<code>TextLength</code>返回截断后的真实长度：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123456789&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 赋值9个字符，自动截断为5个</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;截断后TextLength：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBox1</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TextLength</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 输出：5</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结-6">总结<a href="#总结-6" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>TextLength</code>是TextBox的只读整型属性，核心作用是<strong>实时、高效获取Text的字符总数</strong>，无法手动赋值；</li>
<li class="">核心用法：实时显示输入长度、校验文本长度（非空/最小/最大）、多行文本统计、大文本场景高效读取；</li>
<li class="">关键优势：相比<code>Text.Length</code>，无需创建字符串副本，大文本场景性能更优；</li>
<li class="">注意事项：包含所有字符（换行符/空格等），密码框中返回真实明文长度，只读/禁用状态下仍可读取。</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="8tabindex属性">8.TabIndex属性<a href="#8tabindex属性" class="hash-link" aria-label="Direct link to 8.TabIndex属性" title="Direct link to 8.TabIndex属性" translate="no">​</a></h3>
<p>你想掌握WinForm中TextBox控件的<code>TabIndex</code>属性用法，包括核心作用、设置/修改Tab键切换焦点顺序的方式、容器嵌套场景的表现，以及结合<code>TabStop</code>的实用场景和关键注意事项，对吧？</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="一tabindex属性核心定义">一、TabIndex属性核心定义<a href="#一tabindex属性核心定义" class="hash-link" aria-label="Direct link to 一、TabIndex属性核心定义" title="Direct link to 一、TabIndex属性核心定义" translate="no">​</a></h4>
<p>TextBox的<code>TabIndex</code>属性是<strong>可读可写的整型（int）属性</strong>，核心作用是：
控制控件在<strong>同一容器内</strong>（窗体/Panel/GroupBox等）按<code>Tab</code>键（向前）/<code>Shift+Tab</code>键（向后）切换焦点的顺序。</p>
<ul>
<li class="">默认值：由控件添加到容器的顺序自动分配（从0开始递增，比如先加的TextBox1.TabIndex=0，后加的TextBox2.TabIndex=1）；</li>
<li class="">取值规则：<!-- -->
<ul>
<li class="">仅支持≥0的整数，设置为负数会被自动重置为0；</li>
<li class="">同一容器内建议保证<code>TabIndex</code>唯一（重复时运行时会自动调整，可能导致切换顺序混乱）；</li>
</ul>
</li>
<li class="">容器独立性：<code>TabIndex</code>是<strong>相对于直接父容器</strong>的——比如Panel里的TextBox，其<code>TabIndex</code>仅和Panel内的其他控件排序，与窗体上的控件无关。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二tabindex属性基础用法附代码示例">二、TabIndex属性基础用法（附代码示例）<a href="#二tabindex属性基础用法附代码示例" class="hash-link" aria-label="Direct link to 二、TabIndex属性基础用法（附代码示例）" title="Direct link to 二、TabIndex属性基础用法（附代码示例）" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-静态设置tab顺序窗体加载时">1. 静态设置Tab顺序（窗体加载时）<a href="#1-静态设置tab顺序窗体加载时" class="hash-link" aria-label="Direct link to 1. 静态设置Tab顺序（窗体加载时）" title="Direct link to 1. 静态设置Tab顺序（窗体加载时）" translate="no">​</a></h5>
<p>按业务逻辑手动设置<code>TabIndex</code>，让Tab键切换符合用户操作习惯（如登录界面：用户名→密码→验证码→提交按钮）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 登录界面控件Tab顺序规划：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1. 用户名TextBox（TabIndex=0）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入用户名&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2. 密码TextBox（TabIndex=1）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPwd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PasswordChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3. 验证码TextBox（TabIndex=2）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxVerifyCode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxVerifyCode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MaxLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 4. 提交按钮（TabIndex=3，按钮也有TabIndex）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    btnSubmit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 额外：设置默认聚焦到用户名框</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxUserName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Focus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>此时按<code>Tab</code>键，焦点会按「用户名→密码→验证码→提交按钮」的顺序切换；按<code>Shift+Tab</code>则反向切换。</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-动态修改tabindex业务触发">2. 动态修改TabIndex（业务触发）<a href="#2-动态修改tabindex业务触发" class="hash-link" aria-label="Direct link to 2. 动态修改TabIndex（业务触发）" title="Direct link to 2. 动态修改TabIndex（业务触发）" translate="no">​</a></h5>
<p>根据业务场景调整Tab顺序（比如权限不足时，跳过验证码输入框）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 模拟：无权限时，跳过验证码输入框（调整Tab顺序）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnChangeTabOrder_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 隐藏验证码框，并调整后续控件的TabIndex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxVerifyCode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Visible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 让提交按钮的TabIndex变为2，接在密码框（1）之后</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    btnSubmit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;已跳过验证码输入框，Tab顺序变为：用户名→密码→提交按钮&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-读取tabindex值判断切换顺序">3. 读取TabIndex值（判断切换顺序）<a href="#3-读取tabindex值判断切换顺序" class="hash-link" aria-label="Direct link to 3. 读取TabIndex值（判断切换顺序）" title="Direct link to 3. 读取TabIndex值（判断切换顺序）" translate="no">​</a></h5>
<p>读取控件的<code>TabIndex</code>，用于校验或展示Tab顺序：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnReadTabIndex_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> tabOrder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;当前Tab顺序：\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tabOrder </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;用户名框：TabIndex=</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBoxUserName</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TabIndex</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tabOrder </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;密码框：TabIndex=</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBoxPwd</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TabIndex</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tabOrder </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;验证码框：TabIndex=</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">textBoxVerifyCode</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TabIndex</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tabOrder </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;提交按钮：TabIndex=</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">btnSubmit</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TabIndex</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tabOrder</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="三tabindex的核心实用场景">三、TabIndex的核心实用场景<a href="#三tabindex的核心实用场景" class="hash-link" aria-label="Direct link to 三、TabIndex的核心实用场景" title="Direct link to 三、TabIndex的核心实用场景" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-业务逻辑化的tab顺序最常用">1. 业务逻辑化的Tab顺序（最常用）<a href="#1-业务逻辑化的tab顺序最常用" class="hash-link" aria-label="Direct link to 1. 业务逻辑化的Tab顺序（最常用）" title="Direct link to 1. 业务逻辑化的Tab顺序（最常用）" translate="no">​</a></h5>
<p>按用户操作流程设置Tab顺序，提升交互体验——比如表单填写界面，按「姓名→手机号→地址→备注→提交」的逻辑排序：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 表单填写Tab顺序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// 姓名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxPhone</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 手机号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxAddress</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxRemark</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// 备注（多行）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    btnSubmitForm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// 提交按钮</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-容器嵌套时的tab顺序panelgroupbox">2. 容器嵌套时的Tab顺序（Panel/GroupBox）<a href="#2-容器嵌套时的tab顺序panelgroupbox" class="hash-link" aria-label="Direct link to 2. 容器嵌套时的Tab顺序（Panel/GroupBox）" title="Direct link to 2. 容器嵌套时的Tab顺序（Panel/GroupBox）" translate="no">​</a></h5>
<p>子容器（如Panel）内的控件<code>TabIndex</code>是<strong>独立排序</strong>的，焦点先在父容器（窗体）的控件间切换，进入子容器后再按子容器内的TabIndex切换：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 父容器（窗体）的控件：TabIndex=0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxOutside</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBoxOutside</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;窗体上的TextBox（TabIndex=0）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 创建Panel（子容器）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Panel</span><span class="token plain"> panel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Panel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    panel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    panel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    panel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BorderStyle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BorderStyle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">FixedSingle</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Controls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">panel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Panel内的TextBox1：相对于Panel的TabIndex=0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TextBox</span><span class="token plain"> tb1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">TextBox</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tb1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Panel内TextBox1（TabIndex=0）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tb1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    panel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Controls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Panel内的TextBox2：相对于Panel的TabIndex=1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TextBox</span><span class="token plain"> tb2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">TextBox</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tb2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlaceholderText </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Panel内TextBox2（TabIndex=1）&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tb2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tb2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    panel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Controls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 窗体上的按钮：TabIndex=1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    btnTest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>此时Tab键切换顺序：<br>
<!-- -->窗体TextBox（0）→ Panel（进入子容器）→ Panel内TextBox1（0）→ Panel内TextBox2（1）→ 退出Panel → 窗体按钮（1）。</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-结合tabstop控制是否参与tab切换">3. 结合TabStop控制是否参与Tab切换<a href="#3-结合tabstop控制是否参与tab切换" class="hash-link" aria-label="Direct link to 3. 结合TabStop控制是否参与Tab切换" title="Direct link to 3. 结合TabStop控制是否参与Tab切换" translate="no">​</a></h5>
<p><code>TabStop</code>是bool属性（默认true），控制控件是否参与Tab键切换——即使设置了<code>TabIndex</code>，若<code>TabStop=false</code>，控件也不会被Tab键聚焦：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Form1_Load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabStop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 参与Tab切换（默认）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabStop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 不参与Tab切换（即使TabIndex=1）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textBox3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabStop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>此时Tab键切换顺序：textBox1 → textBox3（跳过textBox2）。</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-禁用只读状态对tabindex的影响">4. 禁用/只读状态对TabIndex的影响<a href="#4-禁用只读状态对tabindex的影响" class="hash-link" aria-label="Direct link to 4. 禁用/只读状态对TabIndex的影响" title="Direct link to 4. 禁用/只读状态对TabIndex的影响" translate="no">​</a></h5>
<ul>
<li class=""><code>Enabled = false</code>：控件禁用，<strong>不参与Tab切换</strong>（即使有TabIndex和TabStop=true），也无法点击聚焦；</li>
<li class=""><code>ReadOnly = true</code>：控件只读，<strong>仍参与Tab切换</strong>（可通过Tab键聚焦，能选中/复制文本）。</li>
</ul>
<p>示例：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDisabled</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxDisabled</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 不参与Tab切换</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxReadOnly</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBoxReadOnly</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReadOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 仍参与Tab切换</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="四使用tabindex的关键注意事项">四、使用TabIndex的关键注意事项<a href="#四使用tabindex的关键注意事项" class="hash-link" aria-label="Direct link to 四、使用TabIndex的关键注意事项" title="Direct link to 四、使用TabIndex的关键注意事项" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-tabindex仅控制tab键顺序不影响点击聚焦">1. TabIndex仅控制Tab键顺序，不影响点击聚焦<a href="#1-tabindex仅控制tab键顺序不影响点击聚焦" class="hash-link" aria-label="Direct link to 1. TabIndex仅控制Tab键顺序，不影响点击聚焦" title="Direct link to 1. TabIndex仅控制Tab键顺序，不影响点击聚焦" translate="no">​</a></h5>
<p><code>TabIndex</code>只决定按Tab键的切换顺序，用户<strong>点击控件仍可直接聚焦</strong>（无论TabIndex是多少）：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 即使textBox2.TabIndex=99（远大于textBox1的0），点击textBox2仍可直接聚焦</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">textBox2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TabIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">99</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-同一容器内tabindex建议唯一">2. 同一容器内TabIndex建议唯一<a href="#2-同一容器内tabindex建议唯一" class="hash-link" aria-label="Direct link to 2. 同一容器内TabIndex建议唯一" title="Direct link to 2. 同一容器内TabIndex建议唯一" translate="no">​</a></h5>
<p>若同一容器内多个控件设置相同的TabIndex，运行时WinForm会自动调整（比如按控件添加顺序分配递增的TabIndex），可能导致预期外的切换顺序，建议手动保证唯一性。</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-取值范围限制">3. 取值范围限制<a href="#3-取值范围限制" class="hash-link" aria-label="Direct link to 3. 取值范围限制" title="Direct link to 3. 取值范围限制" translate="no">​</a></h5>
<p><code>TabIndex</code>的有效值是≥0的整数：</p>
<ul>
<li class="">设置为负数（如-1）：会被自动重置为0；</li>
<li class="">设置为超大数（如999）：只要唯一，仍有效（但建议按业务逻辑从小到大设置，便于维护）。</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-动态添加控件的tabindex">4. 动态添加控件的TabIndex<a href="#4-动态添加控件的tabindex" class="hash-link" aria-label="Direct link to 4. 动态添加控件的TabIndex" title="Direct link to 4. 动态添加控件的TabIndex" translate="no">​</a></h5>
<p>动态创建的控件，若不手动设置TabIndex，会自动分配当前容器内最大的TabIndex+1：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 动态添加TextBox，自动分配TabIndex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btnAddTextBox_Click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TextBox</span><span class="token plain"> tb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">TextBox</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Controls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-method function" style="color:#d73a49">OfType</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&lt;</span><span class="token generic-method generic class-name">TextBox</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 不手动设置TabIndex，自动分配最大值+1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Controls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tb</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageBox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$&quot;动态TextBox的TabIndex：</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">tb</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">TabIndex</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-窗体的acceptbuttoncancelbutton不占tab顺序">5. 窗体的AcceptButton/CancelButton不占Tab顺序<a href="#5-窗体的acceptbuttoncancelbutton不占tab顺序" class="hash-link" aria-label="Direct link to 5. 窗体的AcceptButton/CancelButton不占Tab顺序" title="Direct link to 5. 窗体的AcceptButton/CancelButton不占Tab顺序" translate="no">​</a></h5>
<p>窗体的<code>AcceptButton</code>（默认按钮，Enter键触发）和<code>CancelButton</code>（取消按钮，Esc键触发）即使有TabIndex，也不会参与Tab键切换（仅响应快捷键）。</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结-7">总结<a href="#总结-7" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>TabIndex</code>是TextBox的可读写整型属性，核心控制<strong>同一容器内</strong>Tab键切换焦点的顺序，默认由添加顺序分配，取值≥0；</li>
<li class="">核心用法：按业务逻辑设置静态Tab顺序、动态调整Tab顺序（如隐藏控件时）、结合<code>TabStop</code>控制是否参与Tab切换；</li>
<li class="">关键规则：容器嵌套时子容器内TabIndex独立排序，<code>Enabled=false</code>不参与Tab切换，<code>ReadOnly=true</code>仍参与，TabIndex仅控制Tab键，不影响点击聚焦；</li>
<li class="">最佳实践：同一容器内保证TabIndex唯一，按用户操作流程从小到大设置，提升交互体验。</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="四textbox控件的事件">四、TextBox控件的事件<a href="#四textbox控件的事件" class="hash-link" aria-label="Direct link to 四、TextBox控件的事件" title="Direct link to 四、TextBox控件的事件" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1textchanged事件">1.TextChanged事件<a href="#1textchanged事件" class="hash-link" aria-label="Direct link to 1.TextChanged事件" title="Direct link to 1.TextChanged事件" translate="no">​</a></h3>
<p>你想了解TextBox控件的TextChanged事件的具体用法，包括这个事件的触发时机、如何绑定事件以及编写对应的处理逻辑，对吧？</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="textchanged事件核心概念">TextChanged事件核心概念<a href="#textchanged事件核心概念" class="hash-link" aria-label="Direct link to TextChanged事件核心概念" title="Direct link to TextChanged事件核心概念" translate="no">​</a></h4>
<p><code>TextChanged</code> 是TextBox控件的核心事件之一，<strong>当TextBox中的文本内容发生任何改变时（用户输入/删除字符、程序代码修改Text属性），该事件会立即触发</strong>。它常用来实现“实时响应”类功能，比如输入校验、实时计算、字符计数提示等。</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="用法1通过设计器快速绑定新手推荐">用法1：通过设计器快速绑定（新手推荐）<a href="#用法1通过设计器快速绑定新手推荐" class="hash-link" aria-label="Direct link to 用法1：通过设计器快速绑定（新手推荐）" title="Direct link to 用法1：通过设计器快速绑定（新手推荐）" translate="no">​</a></h4>
<ol>
<li class="">打开WinForms窗体设计器，拖入一个TextBox控件（命名为<code>txtInput</code>）和一个Label控件（命名为<code>lblTip</code>）；</li>
<li class="">选中TextBox控件，在右侧“属性”面板切换到“事件”（闪电图标）；</li>
<li class="">找到<code>TextChanged</code>事件，双击右侧空白处，自动生成事件处理方法；</li>
<li class="">在生成的方法中编写业务逻辑。</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="用法2手动代码绑定灵活可控">用法2：手动代码绑定（灵活可控）<a href="#用法2手动代码绑定灵活可控" class="hash-link" aria-label="Direct link to 用法2：手动代码绑定（灵活可控）" title="Direct link to 用法2：手动代码绑定（灵活可控）" translate="no">​</a></h4>
<p>直接在窗体的构造函数/加载事件中手动绑定事件，代码如下：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">Windows</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">Forms</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">TextBoxTextChangedDemo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MainForm</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token type-list class-name">Form</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MainForm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">InitializeComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// 手动绑定TextChanged事件（核心代码）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            txtInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> TxtInput_TextChanged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// TextChanged事件处理方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TxtInput_TextChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">EventArgs</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// 1. 获取触发事件的TextBox控件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">TextBox</span><span class="token plain"> txt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sender </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token class-name">TextBox</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// 2. 空值校验（避免空引用异常）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">txt </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">string</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNullOrEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">txt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                lblTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;请输入内容&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// 3. 业务逻辑示例：实时显示输入的字符数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lblTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">$&quot;已输入 </span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">txt</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Text</span><span class="token interpolation-string interpolation expression language-csharp punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression language-csharp">Length</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> 个字符&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// 扩展示例：实时校验手机号格式（仅示例，可根据需求修改）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">txt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Length </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">TryParse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">txt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">out</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                lblTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; | 手机号格式初步合法&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">txt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Length </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                lblTip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; | 手机号长度超出限制&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="关键注意事项">关键注意事项<a href="#关键注意事项" class="hash-link" aria-label="Direct link to 关键注意事项" title="Direct link to 关键注意事项" translate="no">​</a></h4>
<ol>
<li class=""><strong>触发频率</strong>：每输入/删除一个字符都会触发一次，若需降低触发频率（比如输入完成后再校验），可结合<code>Timer</code>控件延迟执行；</li>
<li class=""><strong>避免无限循环</strong>：不要在<code>TextChanged</code>事件中直接修改当前TextBox的<code>Text</code>属性（比如自动补全字符），否则会再次触发事件，导致死循环。如需修改，可先解绑事件，修改后重新绑定：<!-- -->
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 临时解绑事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">txtInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextChanged </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> TxtInput_TextChanged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 修改Text属性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">txtInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;修改后的内容&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 重新绑定事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">txtInput</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TextChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> TxtInput_TextChanged</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>空值处理</strong>：必须对<code>sender</code>转换后的TextBox和<code>Text</code>属性做空值校验，避免运行时异常。</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结-8">总结<a href="#总结-8" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h4>
<ol>
<li class=""><code>TextChanged</code>事件在TextBox文本<strong>发生任何改变</strong>时触发，核心用于实现实时响应类功能；</li>
<li class="">绑定方式分设计器可视化绑定和代码手动绑定，新手优先用设计器，复杂场景用手动绑定；</li>
<li class="">使用时需注意空值校验和避免无限循环，必要时结合Timer降低触发频率。</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/csharp/ch05/task2/textbox.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/csharp/ch05/task2/label"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Label控件</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/csharp/ch05/task2/button"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Button控件</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#本节高考考点" class="table-of-contents__link toc-highlight">本节高考考点</a><ul><li><a href="#1-基础属性必考" class="table-of-contents__link toc-highlight">1. <strong>基础属性（必考）</strong></a></li><li><a href="#2-重要属性常考" class="table-of-contents__link toc-highlight">2. <strong>重要属性（常考）</strong></a></li><li><a href="#3-一般属性可能考" class="table-of-contents__link toc-highlight">3. <strong>一般属性（可能考）</strong></a></li><li><a href="#4-了解属性较少考" class="table-of-contents__link toc-highlight">4. <strong>了解属性（较少考）</strong></a></li></ul></li><li><a href="#一textbox-控件用途" class="table-of-contents__link toc-highlight">一、TextBox 控件用途</a></li><li><a href="#三textbox控件属性" class="table-of-contents__link toc-highlight">三、TextBox控件属性</a><ul><li><a href="#1text属性" class="table-of-contents__link toc-highlight">1.Text属性</a></li><li><a href="#2textlength-属性" class="table-of-contents__link toc-highlight">2.TextLength 属性</a></li><li><a href="#3readonly属性" class="table-of-contents__link toc-highlight">3.ReadOnly属性</a></li><li><a href="#4passwordchar属性" class="table-of-contents__link toc-highlight">4.PasswordChar属性</a></li><li><a href="#5multiline属性" class="table-of-contents__link toc-highlight">5.Multiline属性</a></li><li><a href="#6selectedtext属性" class="table-of-contents__link toc-highlight">6.SelectedText属性</a></li><li><a href="#7textlength属性" class="table-of-contents__link toc-highlight">7.TextLength属性</a></li><li><a href="#8tabindex属性" class="table-of-contents__link toc-highlight">8.TabIndex属性</a></li></ul></li><li><a href="#四textbox控件的事件" class="table-of-contents__link toc-highlight">四、TextBox控件的事件</a><ul><li><a href="#1textchanged事件" class="table-of-contents__link toc-highlight">1.TextChanged事件</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>