---
noteId: "c2957180460511f08a53dd9fb031ea51"
tags: []

---

在 C# 中，**条件语句（Conditional Statements）**用于控制程序流程，根据**不同的条件执行不同的代码块**。

---

## 🧠 一、C# 支持的条件语句类型

| 条件语句                      | 作用               |
| ----------------------------- | ------------------ |
| `if` / `else if` / `else`     | 按条件执行不同代码 |
| `switch` / `case` / `default` | 多重条件分支选择   |
| 三元运算符 `?:`               | 简洁的条件表达式   |

---

## ✅ 二、if语句

IF条件语句：用于关系判断和逻辑判断。

### 📌 语法：

```csharp
if(表达式A){// 如果(a > b) 成立，那么执行后面的代码块A
    //代码块A
}else if(表达式B){//否则，如果(a>c)成立，那么执行后面的代码块B
    //代码块B
}else{//否则就执行代码块C 
    
    //代码块C
}
```

### ✅ 示例：

```csharp
int score = 85;

if (score >= 90)
{
    Console.WriteLine("优秀");
}
else if (score >= 70)
{
    Console.WriteLine("良好");
}
else
{
    Console.WriteLine("需要努力");
}
```

---

## 🔁 三、`switch` 语句（多分支选择）

SWITCH语句：用于固定值的判断。

### 📌 语法：

```csharp
switch (表达式)
{
    case 值1:
        // 执行代码块1
        break;
    case 值2:
        // 执行代码块2
        break;
    default:
        // 所有 case 不匹配时执行
        break;
}
```

### ✅ 示例：

```csharp
int day = 3;

switch (day)
{
    case 1:
        Console.WriteLine("星期一");
        break;
    case 2:
        Console.WriteLine("星期二");
        break;
    case 3:
        Console.WriteLine("星期三");
        break;
    default:
        Console.WriteLine("未知");
        break;
}
```

### ⚠️ 注意：

* `case` 后必须是**常量**，不能是变量或表达式。
* 每个 `case` 一般要有 `break`，否则会**穿透执行**下一个 case（除非你想要 fall-through 行为）。
* C# 7.0+ 支持 `switch` 的模式匹配（比如 `case int n when n > 0:`）。

---

## 🔄 四、三元运算符（`?:`）

三元运算符：一种简洁的条件写法，适合动态判断赋值。

### 📌 语法：

```csharp
变量 = 条件 ? 值1 : 值2;
```

### ✅ 示例：

```csharp
int age = 20;
string result = (age >= 18) ? "成年人" : "未成年人";
Console.WriteLine(result);
```

---

## 🚫 五、常见错误和注意事项

| 错误情况       | 描述                                           |
| -------------- | ---------------------------------------------- |
| 少了 `break`   | 在 `switch` 语句中容易导致逻辑错误             |
| 写错逻辑关系   | 如 `if (a > b && c)` 中 `c` 不是布尔类型会报错 |
| 忘记花括号     | 单行语句可以省略 `{}`，多行必须加上            |
| `if-else` 过多 | 推荐在复杂判断中使用 `switch` 或优化逻辑结构   |

---

## 🧠 六、嵌套条件语句

条件语句可以嵌套使用，但不要太深，否则代码难读。

```csharp
int x = 5, y = 10;

if (x < y)
{
    if (x > 0)
    {
        Console.WriteLine("x 小于 y 且 x 大于 0");
    }
}
```

---

## ✅ 七、实际应用案例：分段函数

```csharp
int x = 12;
int y;

if (x < 0)
{
    y = -1;
}
else if (x == 0)
{
    y = 0;
}
else
{
    y = 1;
}
Console.WriteLine("y = " + y);
```

---

## 🧾 总结：条件语句选择建议

| 场景           | 建议语句          |
| -------------- | ----------------- |
| 两个分支       | `if-else`         |
| 多个范围判断   | `if-else if-else` |
| 多个值精确匹配 | `switch`          |
| 简单赋值判断   | 三元运算符        |

---

## IF语句VS SWITCH语句

### ✅ IF语句 VS SWITCH语句

| 对比点   | `if` 语句                              | `switch` 语句                          |
| -------- | -------------------------------------- | -------------------------------------- |
| 适用情况 | 条件是布尔表达式或复杂判断             | 条件是单个变量与固定值的匹配           |
| 条件类型 | 可以是任何表达式（数值、范围、逻辑）   | 只能是可枚举的常量值                   |
| 灵活性   | 高，支持逻辑运算、范围判断、函数调用等 | 低，只支持值匹配                       |
| 可读性   | 判断多时会变复杂，可嵌套但难读         | 分支清晰、结构简洁，适合多个固定值匹配 |
| 性能     | 对少量判断没差别，多分支时可能略慢     | 编译器可能优化为查找表，性能略优       |

---

### 🔍 IF语句 VS SWITCH语法区别

#### ▶ `if` 示例：可以进行范围、逻辑判断

```csharp
int score = 75;

if (score >= 90)
    Console.WriteLine("优秀");
else if (score >= 70)
    Console.WriteLine("良好");
else
    Console.WriteLine("及格或不及格");
```

#### ▶ `switch` 示例：只能用于具体值匹配

```csharp
int day = 3;

switch (day)
{
    case 1:
        Console.WriteLine("星期一");
        break;
    case 2:
        Console.WriteLine("星期二");
        break;
    case 3:
        Console.WriteLine("星期三");
        break;
    default:
        Console.WriteLine("未知");
        break;
}
```

---

### 🎯 支持的条件类型

| 类型                  | `if`              | `switch`                           |      |      |
| --------------------- | ----------------- | ---------------------------------- | ---- | ---- |
| 比较运算（>、<、==）  | ✅ 支持            | ❌ 不支持                           |      |      |
| 逻辑运算（&&、\|\| ） | ✅ 支持            | ❌ 不支持                           |      |      |
| 范围判断              | ✅ 支持            | ❌ 不支持（但 C# 7.0+ 支持 `when`） |      |      |
| 枚举、常量判断        | ✅ 支持            | ✅ 支持                             |      |      |
| 字符串判断            | ✅ 支持            | ✅ 支持（C# 7.0+ 性能优化）         |      |      |
| 模式匹配              | ⭕ 支持（C# 9 起） | ✅ 支持（C# 7 起）                  |      |      |

---

### 🧠 四、实际应用建议

| 情况                                       | 推荐语句             |
| ------------------------------------------ | -------------------- |
| 需要复杂判断（如范围、函数调用、逻辑运算） | `if`                 |
| 多个固定值（如菜单选项、星期、月份）       | `switch`             |
| 判断只有两个分支（是/否）                  | `if-else`            |
| 性能要求高、分支很多                       | `switch`（性能更优） |

---

### 📌 五、简要总结

| 对比维度       | if                 | switch                             |
| -------------- | ------------------ | ---------------------------------- |
| 条件类型       | 任意布尔表达式     | 单个变量与常量匹配                 |
| 判断能力       | 范围判断、逻辑运算 | 精确匹配（C# 7+ 可 pattern match） |
| 表达能力       | 强，适合复杂逻辑   | 简洁，适合固定分支                 |
| 性能（多分支） | 相对略慢           | 可能优化为跳转表，更快             |

---

### 🚀 小贴士

如果你判断的是枚举类型、整数常量、字符串固定值，优先使用 `switch`；
如果你要比较范围、多个条件组合、嵌套条件，使用 `if` 更合适。
