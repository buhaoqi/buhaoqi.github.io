---
noteId: "ec7c958073e811f0ac7f012540a4f7e6"
tags: []

---

在 SQL（**Structured Query Language，结构化查询语言**）中，**注释（Comments）** 是开发者用来**提高代码可读性、解释逻辑含义、临时禁用代码**的重要工具。无论是开发、调试，还是团队协作、项目维护，合理使用注释都能让你的 SQL 更清晰、更专业、更易管理。

---

## 一、一句话总结

> **SQL 注释用于对 SQL 语句进行说明或临时禁用部分代码，是编写高质量、可维护 SQL 的必备技能。SQL 标准支持单行注释（`--`）和多行注释（`/* ... */`），大多数数据库（如 MySQL、PostgreSQL、SQL Server、Oracle）均遵循这一规范。**

---

## 二、SQL 注释的两种标准写法

SQL 标准（ANSI SQL）定义了以下 **两种注释形式**，它们被绝大多数关系型数据库支持：

| 类型 | 写法 | 是否跨行 | 说明 |
|------|------|----------|------|
| **单行注释** | `-- 注释内容` | ❌ 仅当前行有效 | 从 `--` 开始，到该行结束，常用于简短说明 |
| **多行注释** | `/* 注释内容 */` | ✅ 可跨多行 | 从 `/*` 开始，到 `*/` 结束，适合详细说明或临时禁用代码块 |

> ✅ 这两种注释写法是 **SQL 标准的一部分**，被 MySQL、PostgreSQL、Oracle、SQL Server 等主流数据库支持，属于通用语法。

---

## 三、单行注释

语法

```sql
-- 这是一条单行注释
SELECT * FROM students;  -- 查询所有学生（注释在语句后）
```

特点：

- 从 `--` 开始，到**该行结束**都是注释
- 一般建议在 `--` 后加一个空格，提升可读性（常见编码规范）
- **只能注释当前行**

应用场景：

- 说明某条 SQL 的作用
- 解释字段含义
- 对复杂查询的某部分进行简短说明

示例：

```sql
-- 查询所有学生的姓名和年龄
SELECT name, age FROM students;

-- 也可以写在语句后面
SELECT name, age FROM students;  -- 获取学生基本信息
```

---

## 四、多行注释

语法

```sql
/*
  这是一个多行注释，
  可以写多行内容，
  用于详细说明一段 SQL 的用途或逻辑。
*/
SELECT id, name, age
FROM students
WHERE age > 18;
```

特点：

- 注释内容写在 `/*` 和 `*/` **之间**
- 可以跨越 **多行**

应用场景：

- 书写详细的 SQL 功能说明
- 对一段复杂逻辑进行文档化
- **临时禁用某段 SQL 代码（调试时非常有用！）**

示例1：详细说明 SQL 用途

```sql
/*
  功能：查询年龄大于 18 岁的学生信息
  字段：id（学生编号）、name（姓名）、age（年龄）
  条件：只返回成年学生
*/
SELECT id, name, age
FROM students
WHERE age > 18;
```

示例 2：临时禁用某部分代码（调试用）

```sql
SELECT id, name, age
FROM students
/*
WHERE age > 18
*/
;
```

上面的 SQL 中，`WHERE age > 18` 被注释掉了，所以实际执行的是：
```sql
SELECT id, name, age FROM students;
```
这在开发调试时非常实用，可以快速“开关”某段逻辑而不用删除代码。

---

## 五、SQL 注释的常见使用场景

| 场景 | 示例 | 说明 |
|------|------|------|
| **说明 SQL 语句作用** | `-- 查询所有学生信息`<br>`SELECT * FROM students;` | 增强代码可读性 |
| **解释字段或表用途** | `SELECT name, age -- 学生姓名和年龄` | 适合复杂查询中解释字段 |
| **书写功能文档** | `/* 此查询用于统计月度销售额 */` | 用于函数、视图、存储过程等 |
| **临时禁用代码** | `SELECT * FROM users WHERE 1=1 /* AND status = 1 */` | 快速注释条件，不用删除 |
| **团队协作** | 通过注释说明作者、创建时间、用途 | 提升可维护性 |

---

## 六、支持情况

主流数据库对 SQL 注释的支持情况

| 数据库 | 是否支持 `--` 单行注释 | 是否支持 `#` 单行注释 | 是否支持 `/* */` 多行注释 | 说明 |
|--------|------------------------|-----------------------|----------------------------|------|
| **MySQL / MariaDB** | ✅ 支持 | ✅ 支持（MySQL 特有） | ✅ 支持 | 推荐使用 `--`，`#` 是 MySQL 特有写法 |
| **PostgreSQL** | ✅ 支持 | ❌ 不支持 | ✅ 支持 | 不支持 `#` 注释 |
| **SQL Server** | ✅ 支持 | ❌ 不支持 | ✅ 支持 | 不支持 `#` 注释 |
| **Oracle** | ✅ 支持 | ❌ 不支持 | ✅ 支持 | 不支持 `#` 注释 |

> ✅ **推荐使用标准的 `--` 和 `/* */`，因为它们是 SQL 标准，且被所有主流数据库支持，兼容性最好！**

---

## 七、注释的高级用法与技巧

---

### 1. 注释用于调试：快速开关代码

```sql
SELECT id, name, age
FROM students
WHERE 
    age > 18
    /* AND gender = '男'
    AND class_id = 1 */
;
```

> 🎯 你可以快速注释掉某些条件，用来测试不同查询结果，而不用反复修改 SQL。

---

### 2. 注释用于说明复杂查询逻辑

```sql
/*
  查询目标：统计每个班级的学生人数与平均年龄
  表：students
  字段：class_id, name, age
  方法：按 class_id 分组，使用 COUNT 和 AVG 聚合
*/
SELECT 
    class_id,
    COUNT(*) AS 学生人数,
    AVG(age) AS 平均年龄
FROM students
GROUP BY class_id;
```

> ✅ 通过注释说明“为什么写这句 SQL”、“查询目标是什么”，极大提升代码可维护性。

---

### 3. 注释用于团队协作与文档化

```sql
-- 作者：张三
-- 创建时间：2024-06-01
-- 功能：获取所有未删除的用户信息
SELECT id, username, email
FROM users
WHERE is_deleted = 0;
```

> ✅ 在团队项目中，通过注释记录作者、时间、功能，有助于后续维护与交接。

---

## 八、MySQL 中的 `#` 注释

> ⚠️ 注意：`#` 是 **MySQL 特有的单行注释写法**，但**不是 SQL 标准**，其他数据库（如 PostgreSQL、SQL Server）一般不支持！

示例（仅适用于 MySQL）：

```sql
# 这是 MySQL 特有的单行注释写法
SELECT * FROM students;
```

> ✅ 功能上与 `--` 相同，但为了代码的可移植性，建议优先使用 `--`

---

## 九、总结：SQL 注释写法要点

| 注释类型 | 写法 | 是否跨行 | 是否标准 SQL | 支持数据库 | 推荐程度 |
|----------|------|----------|--------------|-------------|-----------|
| **单行注释** | `-- 注释内容` | ❌ 当前行 | ✅ 是 | 所有主流数据库 | ⭐⭐⭐⭐⭐（推荐） |
| **单行注释（MySQL特有）** | `# 注释内容` | ❌ 当前行 | ❌ 否 | MySQL / MariaDB | ⭐⭐（可用但不通用） |
| **多行注释** | `/* 注释内容 */` | ✅ 多行 | ✅ 是 | 所有主流数据库 | ⭐⭐⭐⭐⭐（推荐） |

---

## 十、最佳实践建议

| 建议 | 说明 |
|------|------|
| ✅ 使用 `--` 作为单行注释的标准写法 | 兼容所有主流数据库，符合 SQL 标准 |
| ✅ 多行注释 `/* ... */` 适合复杂说明和调试 | 可用来写文档、临时禁用代码 |
| ✅ 注释应简洁、清晰、有意义 | 不要过多注释，但关键逻辑一定要说明 |
| ✅ 为复杂查询、视图、存储过程添加注释 | 提升代码可维护性，方便团队协作 |
| ✅ 避免无意义注释 | 如 `-- 查询数据` 这种过于简单且无信息量的注释 |

---

**总结一句话：**

> **SQL 注释是 SQL 代码的重要组成部分，标准写法包括单行注释（`--` 和 `/* ... */`），它们用于解释代码逻辑、提高可读性、调试和团队协作。掌握注释的使用，是编写高质量、可维护 SQL 的必备技能。**

---
