---
noteId: "91aafb805eec11f0a138bb2f2278db69"
tags: []

---

> 8．掌握文本框(TextBox)的事件：TextChanged；

下面是对 WinForms 中 **TextBox 控件的 `TextChanged` 事件** 的详细讲解，适合用于 C# 初学者教学、视频录制脚本或中职考试教学需求。

---

## 🎓 教学主题：掌握 TextBox 的事件 —— `TextChanged`

---

### ✅ 一、什么是 `TextChanged` 事件？

**定义：**
当 TextBox 中的文字内容发生变化时（无论是用户手动输入，还是代码修改），都会触发 `TextChanged` 事件。

---

### 🧠 触发时机

| 修改方式           | 是否触发 `TextChanged` |
| -------------- | ------------------ |
| 用户输入           | ✅ 是                |
| 粘贴内容           | ✅ 是                |
| 删除内容           | ✅ 是                |
| 代码设置 `Text` 属性 | ✅ 是（只要值发生变化）       |

---

### 🛠️ 示例代码

```csharp
private void textBox1_TextChanged(object sender, EventArgs e)
{
    label1.Text = "你已输入：" + textBox1.Text;
}
```

📌 **解释：**
每次 TextBox 的内容变化，就会自动更新 Label 中的文字，形成实时反馈。

---

### 🎯 常见应用场景

1. **实时显示输入内容**

   * 如：“你输入了 x 个字符”
2. **动态启用/禁用按钮**

   * 如果输入框有内容，就启用“提交”按钮，否则禁用。
3. **输入验证**

   * 检查格式是否正确（如邮箱、手机号）
4. **搜索建议**

   * 根据输入内容实时筛选建议列表

---

### ✅ 设置事件的方法

#### 方法1：使用设计器

1. 选中 `TextBox`
2. 打开“属性”窗口 → 点击闪电图标（事件）
3. 找到 `TextChanged` → 双击，自动生成方法

#### 方法2：用代码绑定

```csharp
textBox1.TextChanged += textBox1_TextChanged;
```

---

### 📌 小提示

* 不建议在 `TextChanged` 中做复杂逻辑或调用数据库，以免卡顿。
* 如果你想只在用户操作时响应，而非代码赋值，可设标志变量进行控制。

---

## 🧪 巩固练习题（可用于课堂或课后）

1. 创建一个窗体，输入内容后实时显示输入的文字。
2. 实现一个输入框，输入字符少于 5 个时提示“输入太短”。
3. 创建一个“提交”按钮，只有输入框有内容时才能点击（通过 `TextChanged` 控制按钮的 `Enabled` 属性）。
4. 使用 `TextChanged` 实现“即时搜索”，根据输入内容过滤 ListBox 中的项目（可搭配字符串包含判断）。
5. 创建两个 TextBox，任何一个内容变化都更新 Label，显示它们拼接后的结果。

---
