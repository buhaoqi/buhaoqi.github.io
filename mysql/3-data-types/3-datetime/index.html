
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="2026年河北省中职对口升学考试计算机类专业考试学习交流。">
      
      
        <meta name="author" content="村长">
      
      
        <link rel="canonical" href="https://buhaoqi.github.io/mysql/3-data-types/3-datetime/">
      
      
      
      
      <link rel="icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>MySQL 中日期时间类型的用法详解 - 高二九班(对口计算机)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mysql" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="高二九班(对口计算机)" class="md-header__button md-logo" aria-label="高二九班(对口计算机)" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            高二九班(对口计算机)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MySQL 中日期时间类型的用法详解
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
  首页

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../csharp-tutorial/" class="md-tabs__link">
          
  
  
  C#教程

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../csharp-textbook/" class="md-tabs__link">
          
  
  
  C#教材

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../" class="md-tabs__link">
          
  
  
  MySQL教材

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../network-basics/" class="md-tabs__link">
          
  
  
  计算机网络基础教材

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../office/" class="md-tabs__link">
          
  
  
  Office

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../computer-basics/" class="md-tabs__link">
          
  
  
  计算机基础

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../windows10/" class="md-tabs__link">
          
  
  
  Windows

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../exercises/csharp-summer/0621/" class="md-tabs__link">
          
  
  
  暑期作业

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../exercises/mysql/level1/" class="md-tabs__link">
          
  
  
  作业库

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../english/" class="md-tabs__link">
          
  
  
  编程英语

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="高二九班(对口计算机)" class="md-nav__button md-logo" aria-label="高二九班(对口计算机)" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    高二九班(对口计算机)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../.." class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../csharp-tutorial/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    C#教程
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../csharp-textbook/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    C#教材
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    MySQL教材
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../network-basics/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    计算机网络基础教材
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../office/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Office
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../computer-basics/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    计算机基础
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../windows10/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Windows
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../exercises/csharp-summer/0621/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    暑期作业
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../exercises/mysql/level1/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    作业库
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../english/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    编程英语
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="mysql">MySQL 中日期时间类型的用法详解</h1>
<p>在 MySQL 中，<strong>日期时间类型（Date and Time Types）</strong> 是用于存储<strong>日期、时间、或者日期与时间的组合</strong>的数据类型。它们在许多业务场景中都非常关键，比如：</p>
<ul>
<li>📅 用户注册日期</li>
<li>🕒 订单创建时间、支付时间</li>
<li>📆 员工入职日期、合同到期日</li>
<li>🧾 财务报表的统计时间范围</li>
<li>🚀 定时任务、日志记录的时间戳</li>
</ul>
<p>MySQL 提供了多种专门的日期时间类型，以满足不同精度和场景的需求。</p>
<hr />
<p><img alt="日期和时间" src="../../images/ebooks/060.jpeg" /> 
<img alt="日期和时间" src="../../images/ebooks/061.jpeg" /> 
<img alt="日期和时间" src="../../images/ebooks/062.jpeg" /> 
<img alt="日期和时间" src="../../images/ebooks/063.jpeg" /> </p>
<h1 id="mysql_1">一、MySQL 支持的日期时间类型总览</h1>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>字节大小</th>
<th>格式</th>
<th>说明</th>
<th>取值范围</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DATE</strong></td>
<td>3 字节</td>
<td><code>YYYY-MM-DD</code></td>
<td>仅存储<strong>日期</strong>（年-月-日）</td>
<td><code>'1000-01-01'</code> 到 <code>'9999-12-31'</code></td>
</tr>
<tr>
<td><strong>TIME</strong></td>
<td>3 字节</td>
<td><code>HH:MM:SS</code> 或更复杂格式</td>
<td>仅存储<strong>时间</strong>（时:分:秒），也可表示时间间隔</td>
<td><code>-838:59:59</code> 到 <code>'838:59:59'</code></td>
</tr>
<tr>
<td><strong>DATETIME</strong></td>
<td>8 字节</td>
<td><code>YYYY-MM-DD HH:MM:SS</code></td>
<td>存储<strong>日期和时间</strong>组合</td>
<td><code>'1000-01-01 00:00:00'</code> 到 <code>'9999-12-31 23:59:59'</code></td>
</tr>
<tr>
<td><strong>TIMESTAMP</strong></td>
<td>4 字节</td>
<td><code>YYYY-MM-DD HH:MM:SS</code></td>
<td>存储<strong>日期和时间</strong>，但范围较小，且受时区和插入时间影响</td>
<td><code>'1970-01-01 00:00:01' UTC</code> 到 <code>'2038-01-19 03:14:07' UTC</code></td>
</tr>
<tr>
<td><strong>YEAR</strong></td>
<td>1 字节</td>
<td><code>YYYY</code></td>
<td>仅存储<strong>年份</strong></td>
<td>1901 ~ 2155（或 0000，取决于设置）</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="_1">二、各日期时间类型详解</h1>
<h2 id="1-date">1️⃣ DATE（日期类型）</h2>
<h3 id="yyyy-mm-dd">格式：<code>YYYY-MM-DD</code></h3>
<p><strong>仅存储日期，不包含时间部分</strong></p>
<h3 id="_2">适用场景：</h3>
<ul>
<li>用户注册日期</li>
<li>订单日期、生日</li>
<li>合同开始/结束日期</li>
</ul>
<h3 id="_3">示例：</h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="n">birth_date</span><span class="w"> </span><span class="nb">DATE</span><span class="w">  </span><span class="c1">-- 如 &#39;1990-08-23&#39;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">);</span>
</span></code></pre></div>
<h3 id="_4">取值范围：</h3>
<ul>
<li><code>'1000-01-01'</code> ~ <code>'9999-12-31'</code></li>
</ul>
<hr />
<h2 id="2-time">2️⃣ TIME（时间类型）</h2>
<h3 id="hhmmss-123456789">格式：<code>HH:MM:SS</code> 或更复杂的格式（如 <code>'12:34:56.789'</code>）</h3>
<p><strong>仅存储时间，不包含日期</strong></p>
<h3 id="_5">适用场景：</h3>
<ul>
<li>活动持续时间</li>
<li>某个操作的耗时</li>
<li>营业时间</li>
</ul>
<blockquote>
<p>⚠️ 注意：TIME 也可以表示一个时间间隔，不仅仅是某个时刻</p>
</blockquote>
<h3 id="_6">示例：</h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="n">event_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="n">duration</span><span class="w"> </span><span class="k">TIME</span><span class="w">  </span><span class="c1">-- 如 &#39;02:30:00&#39; 表示 2小时30分钟</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p">);</span>
</span></code></pre></div>
<h3 id="_7">取值范围：</h3>
<ul>
<li><code>-838:59:59</code> ~ <code>'838:59:59'</code> （支持负数，可用于表示时间差）</li>
</ul>
<hr />
<h2 id="3-datetime">3️⃣ DATETIME（日期 + 时间）</h2>
<h3 id="yyyy-mm-dd-hhmmss">格式：<code>YYYY-MM-DD HH:MM:SS</code></h3>
<p><strong>同时存储日期和时间，但不受时区影响</strong></p>
<h3 id="_8">适用场景：</h3>
<ul>
<li>订单创建时间</li>
<li>日志记录时间</li>
<li>某个具体时刻发生的事情（精确到秒）</li>
</ul>
<h3 id="_9">示例：</h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="n">order_no</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="n">order_time</span><span class="w"> </span><span class="n">DATETIME</span><span class="w">  </span><span class="c1">-- 如 &#39;2024-06-01 14:30:00&#39;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">);</span>
</span></code></pre></div>
<h3 id="_10">取值范围：</h3>
<ul>
<li><code>'1000-01-01 00:00:00'</code> ~ <code>'9999-12-31 23:59:59'</code></li>
</ul>
<hr />
<h2 id="4-timestamp">4️⃣ TIMESTAMP（时间戳）</h2>
<h3 id="yyyy-mm-dd-hhmmss_1">格式：<code>YYYY-MM-DD HH:MM:SS</code></h3>
<p><strong>存储日期和时间，但范围较小，且与 UTC 和系统时区有关</strong></p>
<h3 id="_11">特点：</h3>
<ul>
<li>范围比 DATETIME 小很多（1970 年 ~ 2038 年）</li>
<li><strong>自动转换为 UTC 存储，取出时再转为当前时区</strong></li>
<li>如果插入时未指定 TIMESTAMP 字段的值，MySQL 会<strong>自动填充当前时间</strong></li>
<li>很适合做 <strong>“创建时间” 或 “更新时间” 的自动记录字段</strong></li>
</ul>
<h3 id="_12">示例：</h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="n">action</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="n">created_at</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w">  </span><span class="c1">-- 自动填入当前时间</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="p">);</span>
</span></code></pre></div>
<h3 id="_13">取值范围：</h3>
<ul>
<li><code>'1970-01-01 00:00:01' UTC</code> ~ <code>'2038-01-19 03:14:07' UTC</code></li>
</ul>
<blockquote>
<p>⚠️ 注意：<strong>2038年问题（Y2K38）</strong>，超过这个时间后 TIMESTAMP 会溢出（类似 2038 年的 Unix 时间戳限制）</p>
</blockquote>
<hr />
<h2 id="5-year">5️⃣ YEAR（年份类型）</h2>
<h3 id="yyyy">格式：<code>YYYY</code></h3>
<p><strong>仅存储年份信息</strong></p>
<h3 id="_14">适用场景：</h3>
<ul>
<li>员工入职年份</li>
<li>产品发布年份</li>
<li>车辆生产年份</li>
</ul>
<h3 id="_15">示例：</h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">cars</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="n">model</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="k">year</span><span class="w"> </span><span class="k">YEAR</span><span class="w">  </span><span class="c1">-- 如 2020</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="p">);</span>
</span></code></pre></div>
<h3 id="_16">取值范围：</h3>
<ul>
<li>默认：<code>1901</code> ~ <code>2155</code></li>
<li>如果设置为 <code>YEAR(2)</code>，则范围为 <code>00</code> ~ <code>99</code>（通常不建议，容易混淆）</li>
</ul>
<hr />
<h1 id="_17">三、如何选择合适的日期时间类型？</h1>
<table>
<thead>
<tr>
<th>使用场景</th>
<th>推荐类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>只需存储日期（如生日、节假日）</td>
<td><strong>DATE</strong></td>
<td>只含年月日，最常用</td>
</tr>
<tr>
<td>只需存储时间（如活动时长、营业时间）</td>
<td><strong>TIME</strong></td>
<td>只含时分秒，或时间间隔</td>
</tr>
<tr>
<td>需要存储<strong>日期 + 时间</strong>，且范围很大（千年以上）</td>
<td><strong>DATETIME</strong></td>
<td>不受时区影响，推荐大多数业务场景使用</td>
</tr>
<tr>
<td>需要存储<strong>日期 + 时间</strong>，且希望<strong>自动记录创建/更新时间</strong></td>
<td><strong>TIMESTAMP</strong></td>
<td>自动填充当前时间，但范围有限（到 2038 年）</td>
</tr>
<tr>
<td>只需存储年份（如年份信息）</td>
<td><strong>YEAR</strong></td>
<td>仅存储年份，节省空间</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="_18">四、常用日期时间函数</h1>
<p>MySQL 提供了丰富的日期时间函数，用于<strong>获取、格式化、计算</strong>日期时间：</p>
<h3 id="_19">常用函数举例：</h3>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NOW()</code></td>
<td>当前日期和时间（DATETIME）</td>
<td><code>2024-06-01 14:30:00</code></td>
</tr>
<tr>
<td><code>CURDATE()</code></td>
<td>当前日期（DATE）</td>
<td><code>2024-06-01</code></td>
</tr>
<tr>
<td><code>CURTIME()</code></td>
<td>当前时间（TIME）</td>
<td><code>14:30:00</code></td>
</tr>
<tr>
<td><code>YEAR(date)</code></td>
<td>提取年份</td>
<td><code>YEAR(NOW()) → 2024</code></td>
</tr>
<tr>
<td><code>MONTH(date)</code></td>
<td>提取月份</td>
<td><code>1 ~ 12</code></td>
</tr>
<tr>
<td><code>DAY(date)</code></td>
<td>提取日</td>
<td><code>1 ~ 31</code></td>
</tr>
<tr>
<td><code>DATE_FORMAT(date, format)</code></td>
<td>格式化日期</td>
<td><code>DATE_FORMAT(NOW(), '%Y-%m-%d')</code></td>
</tr>
<tr>
<td><code>DATEDIFF(date1, date2)</code></td>
<td>计算两个日期相差的天数</td>
<td><code>DATEDIFF('2024-06-10', '2024-06-01') → 9</code></td>
</tr>
</tbody>
</table>
<hr />
<h1 id="_20">五、示例：创建包含各种日期时间字段的表</h1>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="n">event_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="n">event_date</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span><span class="w">            </span><span class="c1">-- 仅日期，如 &#39;2024-06-01&#39;</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="n">start_time</span><span class="w"> </span><span class="k">TIME</span><span class="p">,</span><span class="w">            </span><span class="c1">-- 仅时间，如 &#39;14:00:00&#39;</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w">        </span><span class="c1">-- 日期+时间，如 &#39;2024-06-01 10:00:00&#39;</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="n">updated_at</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="n">event_year</span><span class="w"> </span><span class="k">YEAR</span><span class="w">             </span><span class="c1">-- 仅年份，如 2024</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="p">);</span>
</span></code></pre></div>
<hr />
<h1 id="_21">六、总结</h1>
<table>
<thead>
<tr>
<th>类型</th>
<th>字节数</th>
<th>格式</th>
<th>是否包含日期</th>
<th>是否包含时间</th>
<th>推荐使用场景</th>
<th>取值范围</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DATE</strong></td>
<td>3</td>
<td><code>YYYY-MM-DD</code></td>
<td>✅</td>
<td>❌</td>
<td>生日、节假日、注册日期</td>
<td>1000-01-01 ~ 9999-12-31</td>
</tr>
<tr>
<td><strong>TIME</strong></td>
<td>3</td>
<td><code>HH:MM:SS</code></td>
<td>❌</td>
<td>✅</td>
<td>活动时间、耗时</td>
<td>-838:59:59 ~ 838:59:59</td>
</tr>
<tr>
<td><strong>DATETIME</strong></td>
<td>8</td>
<td><code>YYYY-MM-DD HH:MM:SS</code></td>
<td>✅</td>
<td>✅</td>
<td>订单时间、日志、大多数业务场景</td>
<td>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</td>
</tr>
<tr>
<td><strong>TIMESTAMP</strong></td>
<td>4</td>
<td><code>YYYY-MM-DD HH:MM:SS</code></td>
<td>✅</td>
<td>✅</td>
<td>自动记录创建/更新时间，但范围有限</td>
<td>1970-01-01 00:00:01 UTC ~ 2038-01-19 03:14:07 UTC</td>
</tr>
<tr>
<td><strong>YEAR</strong></td>
<td>1</td>
<td><code>YYYY</code></td>
<td>✅（仅年）</td>
<td>❌</td>
<td>年份信息</td>
<td>1901 ~ 2155</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="_22">✅ 总结一句话：</h2>
<blockquote>
<p><strong>MySQL 提供了 DATE、TIME、DATETIME、TIMESTAMP 和 YEAR 等多种日期时间类型，用于存储各种精度的时间信息。其中 DATETIME 是最通用、范围最大的选择，TIMESTAMP 适合自动记录时间戳，而 DATE 和 YEAR 则用于更简单的场景。</strong></p>
</blockquote>
<hr />
<p>如你希望了解：</p>
<ul>
<li>如何在 <strong>SELECT 中格式化日期显示</strong></li>
<li>如何用 <strong>DATE_ADD / DATE_SUB 进行日期计算</strong></li>
<li>如何设置字段 <strong>自动记录创建/更新时间</strong></li>
<li>或者如何在 <strong>应用程序中处理 MySQL 的日期类型</strong></li>
</ul>
<p>欢迎继续提问！我可以为你提供详细的 SQL 示例与最佳实践。</p>
<p>日期时间类型</p>
<p>日期时间类型是一种特殊的字符串。</p>
<h2 id="1">1.日期时间类型</h2>
<p>用途：用于存储日期和时间。</p>
<p>MySQL中常用的时间类型主要包括以下几种:</p>
<table>
<thead>
<tr>
<th>说明</th>
<th>DATE</th>
<th>YEAR</th>
<th>TIME</th>
<th>DATETIME</th>
<th>TIMESTAMP</th>
</tr>
</thead>
<tbody>
<tr>
<td>用途</td>
<td>存储字面日期</td>
<td>存储年份</td>
<td>存储字面时间</td>
<td>存储字面日期时间</td>
<td>存储时间戳</td>
</tr>
<tr>
<td>格式</td>
<td>'YYYY-MM-DD'</td>
<td>'YYYY'</td>
<td>'HH:MM:SS'</td>
<td>'YYYY-MM-DD HH:MM:SS'</td>
<td>Unix时间戳</td>
</tr>
<tr>
<td>格式</td>
<td>'2025-05-09'</td>
<td>'2025'</td>
<td>'10:08:00'</td>
<td>'2025-05-09 10:08:00'</td>
<td>Unix时间戳</td>
</tr>
<tr>
<td>时区支持</td>
<td>无</td>
<td>无</td>
<td>无</td>
<td>无</td>
<td>自动转换时区</td>
</tr>
<tr>
<td>自动更新</td>
<td>否</td>
<td>否</td>
<td>否</td>
<td>需手动设置</td>
<td>支持</td>
</tr>
<tr>
<td>存储效率</td>
<td>高</td>
<td>最高</td>
<td>中</td>
<td>较低</td>
<td>较高</td>
</tr>
<tr>
<td>函数</td>
<td>CURRENT_DATE()</td>
<td></td>
<td></td>
<td>NOW()</td>
<td>CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>应用场景</td>
<td>仅需日期</td>
<td>仅需年份</td>
<td>时间间隔或持续时间</td>
<td>无时区需求的本地化时间</td>
<td>跨时区应用、自动更新时间戳</td>
</tr>
</tbody>
</table>
<h2 id="2current_date">2.CURRENT_DATE</h2>
<p>读取系统日期。需要注意的是，将<code>DATE</code>类型字段的默认值设置为<code>CURRENT_DATE()</code>，必须将表达式用括号包裹，<code>CURRENT_DATE</code>和<code>CURRENT_DATE()</code>在MySQL中是等效的，但建议统一使用不带括号的<code>CURRENT_DATE</code>以避免混淆。</p>
<h2 id="3now">3.NOW()</h2>
<p>读取系统日期和时间</p>
<h2 id="4timestamp">4.TIMESTAMP</h2>
<p><code>TIMESTAMP</code> 类型用于存储时间点。最大特点：将 UTC 时间戳转换为不同时区的本地时间。</p>
<ul>
<li>时间：就是time，time就是时间。</li>
<li>戳：标记，比如：“打个戳”就是打个标记。</li>
<li>时间戳，就是时间的标记。标记时间的起点。</li>
<li>
<p>时间戳存储的是一个毫秒值 = 即时时间 -  1970年1月1日 00:00:00 UTC （<strong>Unix 纪元</strong>）</p>
</li>
<li>
<p>时间点是基于 UTC 的时间点</p>
</li>
<li><strong>UTC（Coordinated Universal Time）</strong> 是全球通用的标准时间基准，中文译为 <strong>协调世界时</strong>。它在计算机系统和国际事务中广泛应</li>
<li>支持自动时区转换和更新</li>
<li>适用于需要时间标准化的场景。</li>
</ul>
<h2 id="5year">5.YEAR()函数</h2>
<p>用途</p>
<p>用于从日期或日期时间值中提取年份部分。</p>
<p>语法</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">YEAR</span><span class="p">(</span><span class="nb">date</span><span class="p">)</span>
</span></code></pre></div>
<p>参数</p>
<ul>
<li>date: 可以是<code>DATE</code>、<code>DATETIME</code>、<code>TIMESTAMP</code>类型的值，或能解析为日期的字符串（如 <code>'2023-10-05'</code>）。</li>
</ul>
<p>返回值</p>
<ul>
<li>四位数的年份（如 <code>1999</code>, <code>2023</code>）。</li>
<li>若输入为无效日期、无法解析的字符串或<code>NULL</code>，则返回<code>NULL</code>。</li>
</ul>
<p>示例</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">-- 输入标准日期或日期时间格式</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="s1">&#39;2023-10-05&#39;</span><span class="p">);</span><span class="w">      </span><span class="c1">-- 输出：2023</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="s1">&#39;2025-05-10 14:30:00&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 输出：2025（时间部分被忽略）</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="n">CURDATE</span><span class="p">());</span><span class="w">         </span><span class="c1">-- 返回当前年份（如 2023）</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="n">NOW</span><span class="p">());</span><span class="w">  </span><span class="c1">-- 返回当前日期时间的年份</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="s1">&#39;0000-00-00&#39;</span><span class="p">);</span><span class="w">       </span><span class="c1">-- 输出：0（MySQL允许零日期）</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="s1">&#39;9999-12-31&#39;</span><span class="p">);</span><span class="w">       </span><span class="c1">-- 输出：9999</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="s1">&#39;2023-02-30&#39;</span><span class="p">);</span><span class="w">       </span><span class="c1">-- 输出：NULL（无效日期）</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="s1">&#39;invalid-date&#39;</span><span class="p">);</span><span class="w">     </span><span class="c1">-- 输出：NULL（无法解析）</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span><span class="w">               </span><span class="c1">-- 输出：NULL</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="c1">-- 输入“非标准格式” 不保证</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="s1">&#39;2023/10/05&#39;</span><span class="p">);</span><span class="w">      </span><span class="c1">-- 输出：2023（兼容部分非标准分隔符）</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="s1">&#39;20231005&#39;</span><span class="p">);</span><span class="w">        </span><span class="c1">-- 输出：2023（数字格式自动转换）</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="mi">20231005</span><span class="p">);</span><span class="w">          </span><span class="c1">-- 输出：2023</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="mi">20231301</span><span class="p">);</span><span class="w">          </span><span class="c1">-- 输出：NULL（无效月份13）</span>
</span></code></pre></div>
<h2 id="6month">6.MONTH()函数</h2>
<p>用途</p>
<p>用于从日期或日期时间值中提取月份部分。</p>
<p>语法</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">MONTH</span><span class="p">(</span><span class="nb">date</span><span class="p">)</span>
</span></code></pre></div>
<p>参数</p>
<ul>
<li>date: 可以是<code>DATE</code>、<code>DATETIME</code>、<code>TIMESTAMP</code>类型的值，或能解析为日期的字符串（如 <code>'2023-10-05'</code>）。</li>
</ul>
<p>返回值</p>
<ul>
<li>返回一个1到12之间的整数（如 <code>1</code>表示1月，<code>12</code>表示12月）</li>
<li>NULL：若日期无效或为 <code>NULL</code>，则返回 <code>NULL</code>。</li>
</ul>
<p>示例</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="s1">&#39;2023-10-05&#39;</span><span class="p">);</span><span class="w">         </span><span class="c1">-- 输出：10（10月）</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="s1">&#39;2025-05-10 14:30:00&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- 输出：5（时间部分被忽略）</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="n">CURDATE</span><span class="p">());</span><span class="w">            </span><span class="c1">-- 返回当前月份（如当前为10月则输出10）</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="n">NOW</span><span class="p">());</span><span class="w">  </span><span class="c1">-- 返回当前日期时间的月份（如 `NOW()`为2023-10-05 15:30:00，输出10）</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 输出：1（1月）</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="s1">&#39;2023-12-31&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 输出：12（12月）</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="s1">&#39;2023-13-01&#39;</span><span class="p">);</span><span class="w">       </span><span class="c1">-- 输出：NULL（无效月份13）</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="s1">&#39;invalid-date&#39;</span><span class="p">);</span><span class="w">     </span><span class="c1">-- 输出：NULL（无法解析）</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span><span class="w">               </span><span class="c1">-- 输出：NULL</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="c1">-- 输入非标准时间格式，不保证正确输出</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="s1">&#39;2023/10/05&#39;</span><span class="p">);</span><span class="w">    </span><span class="c1">-- 输出：10（兼容部分非标准分隔符）</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="s1">&#39;20231005&#39;</span><span class="p">);</span><span class="w">      </span><span class="c1">-- 输出：10（数字格式自动转换）</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="mi">20231005</span><span class="p">);</span><span class="w">        </span><span class="c1">-- 输出：10</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="mi">20231301</span><span class="p">);</span><span class="w">        </span><span class="c1">-- 输出：NULL（无效月份13）</span>
</span></code></pre></div>
<h2 id="7day">7.DAY()函数</h2>
<p>用途</p>
<p>用于从日期或日期时间值中提取月份中的天数部分。</p>
<p>语法</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">DAY</span><span class="p">(</span><span class="nb">date</span><span class="p">)</span>
</span></code></pre></div>
<p>参数</p>
<ul>
<li>date: 可以是<code>DATE</code>、<code>DATETIME</code>、<code>TIMESTAMP</code>类型的值，或能解析为日期的字符串（如 <code>'2023-10-05'</code>）。</li>
</ul>
<p>返回值</p>
<ul>
<li>整数（1-31）：表示月份中的第几天。</li>
<li>NULL：若日期无效或为 <code>NULL</code>，则返回 <code>NULL</code>。</li>
</ul>
<p>示例</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">DAY</span><span class="p">(</span><span class="s1">&#39;2023-10-05&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 输出：5</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">DAY</span><span class="p">(</span><span class="s1">&#39;2023-12-31 22:45:00&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 输出：31（时间部分被忽略）</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">DAY</span><span class="p">(</span><span class="n">NOW</span><span class="p">());</span><span class="w">  </span><span class="c1">-- 返回当前日期的天数部分。</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">DAY</span><span class="p">(</span><span class="s1">&#39;2023-02-30&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 输出：NULL（2月无30日）</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">DAY</span><span class="p">(</span><span class="s1">&#39;invalid-date&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 输出s：NULL（格式错误）</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">DAY</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 输出：NULL</span>
</span></code></pre></div>
<h2 id="8date_format">8.DATE_FORMAT()函数</h2>
<p><code>DATE_FORMAT()</code> 是 MySQL 中用于将日期或时间值按指定格式转换为字符串的核心函数，广泛应用于数据展示、报表生成等场景。以下是其详细用法和示例：</p>
<p>基本语法</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="nb">date</span><span class="p">,</span><span class="w"> </span><span class="n">format</span><span class="p">)</span>
</span></code></pre></div>
<p>参数说明</p>
<ul>
<li><code>date</code>：需要格式化的日期/时间值，可以是 <code>DATE</code>、<code>DATETIME</code>、<code>TIMESTAMP</code> 类型或合法字符串（如 <code>'2023-10-05'</code>）。</li>
<li><code>format</code>：定义输出格式的字符串，由 <strong>格式符</strong> 和普通字符组成（如 <code>'%Y-%m-%d'</code>）。</li>
</ul>
<p>常用格式符</p>
<table>
<thead>
<tr>
<th>格式符</th>
<th>说明</th>
<th>示例值（输入：<code>2023-10-05 14:30:00</code>）</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%Y</code></td>
<td>四位年份</td>
<td>2023</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>两位年份</td>
<td>23</td>
</tr>
<tr>
<td><code>%M</code></td>
<td>月份英文全名</td>
<td>October</td>
</tr>
<tr>
<td><code>%b</code></td>
<td>月份英文缩写</td>
<td>Oct</td>
</tr>
<tr>
<td><code>%m</code></td>
<td>两位数字月份（01-12）</td>
<td>10</td>
</tr>
<tr>
<td><code>%c</code></td>
<td>数字月份（1-12）</td>
<td>10</td>
</tr>
<tr>
<td><code>%d</code></td>
<td>两位日期（01-31）</td>
<td>05</td>
</tr>
<tr>
<td><code>%e</code></td>
<td>数字日期（1-31）</td>
<td>5</td>
</tr>
<tr>
<td><code>%D</code></td>
<td>带英文后缀的日期</td>
<td>5th</td>
</tr>
<tr>
<td><code>%W</code></td>
<td>星期英文全名</td>
<td>Thursday</td>
</tr>
<tr>
<td><code>%a</code></td>
<td>星期英文缩写</td>
<td>Thu</td>
</tr>
<tr>
<td><code>%w</code></td>
<td>星期数字（0=周日, 1=周一）</td>
<td>4</td>
</tr>
<tr>
<td><code>%H</code></td>
<td>24小时制小时（00-23）</td>
<td>14</td>
</tr>
<tr>
<td><code>%h</code></td>
<td>12小时制小时（01-12）</td>
<td>02</td>
</tr>
<tr>
<td><code>%i</code></td>
<td>分钟（00-59）</td>
<td>30</td>
</tr>
<tr>
<td><code>%s</code></td>
<td>秒（00-59）</td>
<td>00</td>
</tr>
<tr>
<td><code>%p</code></td>
<td>AM/PM</td>
<td>PM</td>
</tr>
<tr>
<td><code>%f</code></td>
<td>微秒（000000-999999）</td>
<td>000000</td>
</tr>
<tr>
<td><code>%%</code></td>
<td>转义字符<code>%</code></td>
<td>%</td>
</tr>
</tbody>
</table>
<h2 id="9">9.典型使用场景</h2>
<ol>
<li>基础日期格式化</li>
</ol>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">&#39;2023-10-05&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">),</span><span class="w">    </span><span class="c1">-- 2023-10-05</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">  </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">&#39;2023-10-05&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%d/%m/%Y&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w">    </span><span class="c1">-- 05/10/2023</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">  </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">&#39;2023-10-05&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%M %e, %Y&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">   </span><span class="c1">-- October 5, 2023</span>
</span></code></pre></div>
<ol>
<li>时间格式化</li>
</ol>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">&#39;2023-10-05 14:30:00&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%H:%i:%s&#39;</span><span class="p">),</span><span class="c1">-- 14:30:00</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">&#39;2023-10-05 14:30:00&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%h:%i %p&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">-- 02:30 PM</span>
</span></code></pre></div>
<ol>
<li>组合日期与时间</li>
</ol>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;%Y-%m-%d %H:%i:%s&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">current_datetime</span><span class="p">;</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1">-- 输出示例：2023-10-05 15:45:00</span>
</span></code></pre></div>
<ol>
<li>按年月分组统计</li>
</ol>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">-- 统计每月订单数量</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="k">SELECT</span><span class="w"> </span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">order_date</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">month</span><span class="p">,</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">order_count</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="k">FROM</span><span class="w"> </span><span class="n">orders</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">month</span><span class="p">;</span>
</span></code></pre></div>
<h2 id="1_1">练习1.存储年月日表</h2>
<p>要求：</p>
<p>1.创建一个表my_datetime</p>
<ul>
<li>id  整型、主键、自增长</li>
<li>日期(m_date)： 日期类型</li>
<li>年份(m_year):  年份</li>
<li>时间(m_time):   时间类型</li>
<li>
<p>日期时间(m_datetime):  日期时间类型</p>
</li>
<li>
<p>插入两条数据</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>m_date</th>
<th>m_year</th>
<th>m_time</th>
<th>m_datetime</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2025-05-10</td>
<td>2025</td>
<td>14:33:06</td>
<td>2025-05-10 14:33:06</td>
</tr>
<tr>
<td>2</td>
<td>2026-12-24</td>
<td>2026</td>
<td>12:00:00</td>
<td>2026-12-24 12:00:00</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>使用<code>year()</code> <code>month()</code> <code>day()</code>从<code>m_datetime</code>中提取出年、月、日</p>
</li>
<li>
<p>使用<code>hour()</code> <code>minute()</code> <code>second()</code> 从<code>m_datetime</code>中提取出时、分、秒</p>
</li>
<li>
<p>使用DATE_FORMAT()函数提取出以下时间</p>
</li>
<li>
<p>2025年05月10日 14时33分06秒</p>
</li>
<li>
<p>12/24/2026</p>
</li>
<li>
<p>May  10, 2025</p>
</li>
<li>
<p>2026%12%24</p>
</li>
<li>
<p>02:33 PM</p>
</li>
</ol>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">-- 创建表my_datetime</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">table_datetime</span><span class="p">(</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span><span class="n">order_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">  </span><span class="n">the_date</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">  </span><span class="n">the_time</span><span class="w"> </span><span class="k">TIME</span><span class="p">,</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">  </span><span class="n">the_datetime</span><span class="w"> </span><span class="n">DATETIME</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">  </span><span class="n">the_year</span><span class="w"> </span><span class="k">YEAR</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="p">);</span>
</span></code></pre></div>
<p>练习：</p>
<ol>
<li>查询 2005 年出生的学生</li>
<li>查询出生日期在 6 月的学生 </li>
<li>查询出生日期在 2005 年且月份为奇数的学生  </li>
<li>查询生日在下一周（假设当前日期为 2023-10-01）的学生  </li>
</ol>
<p>参考答案：</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="err">查询</span><span class="w"> </span><span class="mi">2005</span><span class="w"> </span><span class="err">年出生的学生</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">birthdate</span><span class="w"> </span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="k">FROM</span><span class="w"> </span><span class="n">students</span><span class="w"> </span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="n">birthdate</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2005</span><span class="p">;</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="mi">2</span><span class="p">.</span><span class="w"> </span><span class="err">查询出生日期在</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="err">月的学生</span><span class="o">**</span><span class="w">  </span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">birthdate</span><span class="w"> </span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="k">FROM</span><span class="w"> </span><span class="n">students</span><span class="w"> </span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="n">birthdate</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="mi">3</span><span class="p">.</span><span class="w"> </span><span class="err">查询出生日期在</span><span class="w"> </span><span class="mi">2005</span><span class="w"> </span><span class="err">年且月份为奇数的学生</span><span class="w"> </span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">birthdate</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="k">FROM</span><span class="w"> </span><span class="n">students</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="n">birthdate</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2005</span><span class="w"> </span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="n">birthdate</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="mi">4</span><span class="p">.</span><span class="err">查询生日在下一周（假设当前日期为</span><span class="w"> </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">01</span><span class="err">）的学生</span><span class="o">**</span><span class="w">  </span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="err">为什么第一段代码可以查询出结果，第二段查询不出结果？</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a><span class="err">第一段代码：</span>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">birthdate</span>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a><span class="k">FROM</span><span class="w"> </span><span class="n">students</span>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">birthdate</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%m-%d&#39;</span><span class="p">)</span><span class="w">  </span>
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a><span class="w">      </span><span class="k">BETWEEN</span><span class="w"> </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">&#39;2023-10-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%m-%d&#39;</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a><span class="w">      </span><span class="k">AND</span><span class="w"> </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">&#39;2023-10-07&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%m-%d&#39;</span><span class="p">);</span>
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>
</span><span id="__span-18-27"><a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a><span class="err">第二段代码：</span><span class="w">      </span>
</span><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="n">date_format</span><span class="p">(</span><span class="n">birthdate</span><span class="p">,</span><span class="s1">&#39;%m-%d&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">生日</span>
</span><span id="__span-18-29"><a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a><span class="k">from</span><span class="w"> </span><span class="n">students</span><span class="w"> </span>
</span><span id="__span-18-30"><a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a><span class="k">where</span><span class="w"> </span><span class="n">date_format</span><span class="p">(</span><span class="n">birthdate</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%m-%d&#39;</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-18-31"><a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a><span class="k">between</span><span class="w">  </span><span class="n">date_format</span><span class="p">(</span><span class="k">current_timestamp</span><span class="p">,</span><span class="s1">&#39;%m-%d&#39;</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-18-32"><a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a><span class="k">and</span><span class="w"> </span><span class="n">date_format</span><span class="p">((</span><span class="k">current_timestamp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="k">day</span><span class="p">),</span><span class="s1">&#39;%m-%d&#39;</span><span class="p">);</span>
</span></code></pre></div>
<h2 id="2">练习2：会议表</h2>
<p>创建一个名为 <code>meeting_schedule</code> 的表，包含以下字段：</p>
<ul>
<li>会议ID（meeting_id）（整数，主键，自增）</li>
<li>会议主题（topic）（变长字符串，最长50字符，非空）</li>
<li>开始时间（start_time）（精确到秒的事件时间，存储本地时间）</li>
<li>预计时长（duration_minutes）（以分钟为单位的整数）</li>
<li>创建时间（created_at）（自动记录数据插入时间）</li>
<li>是否已结束（is_ended）（布尔值，默认未结束）</li>
</ul>
<p><strong>参考答案</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">meeting_schedule</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="n">meeting_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="n">topic</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="n">start_time</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- 存储本地时间</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="n">duration_minutes</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="p">,</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span><span class="n">created_at</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span><span class="n">is_ended</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="p">)</span><span class="w"> </span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">meet_schedule</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">    </span><span class="n">topic</span><span class="p">,</span><span class="n">start_time1</span><span class="p">,</span><span class="n">start_time2</span><span class="p">,</span><span class="n">start_time3</span><span class="p">,</span><span class="n">start_time4</span><span class="p">,</span><span class="n">duration_minutes</span><span class="p">,</span><span class="n">is_ended</span><span class="p">)</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="k">VALUES</span><span class="w"> </span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">    </span><span class="c1">-- 第一条记录：显式指定所有字段，包含时间戳字段</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">    </span><span class="p">(</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">        </span><span class="s1">&#39;项目启动会议&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">        </span><span class="s1">&#39;2023-10-10&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">        </span><span class="s1">&#39;09:00:00&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">        </span><span class="s1">&#39;2023-10-10 09:00:00&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">        </span><span class="s1">&#39;2023-10-10 09:00:00&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">        </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">        </span><span class="mi">1</span>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">    </span><span class="p">),</span>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">    </span><span class="c1">-- 第二条记录：省略 start_time5 和 created_at（依赖默认值）</span>
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">    </span><span class="p">(</span>
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="w">        </span><span class="s1">&#39;需求评审会议&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="w">        </span><span class="s1">&#39;2023-10-11&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="w">        </span><span class="s1">&#39;14:30:00&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="w">        </span><span class="s1">&#39;2023-10-11 14:30:00&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a><span class="w">        </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- start_time4 留空（允许 NULL）</span>
</span><span id="__span-19-30"><a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a><span class="w">        </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-31"><a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a><span class="w">        </span><span class="mi">0</span>
</span><span id="__span-19-32"><a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a><span class="w">    </span><span class="p">),</span>
</span><span id="__span-19-33"><a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a><span class="w">    </span><span class="c1">-- 第三条记录：混合使用显式和默认值</span>
</span><span id="__span-19-34"><a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a><span class="w">    </span><span class="p">(</span>
</span><span id="__span-19-35"><a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a><span class="w">        </span><span class="s1">&#39;项目总结会&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-36"><a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a><span class="w">        </span><span class="k">CURRENT_DATE</span><span class="p">(),</span><span class="w">  </span><span class="c1">-- 直接使用函数获取当天日期</span>
</span><span id="__span-19-37"><a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a><span class="w">        </span><span class="s1">&#39;16:45:00&#39;</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-38"><a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a><span class="w">        </span><span class="n">NOW</span><span class="p">(),</span><span class="w">           </span><span class="c1">-- 使用当前日期时间</span>
</span><span id="__span-19-39"><a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a><span class="w">        </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-40"><a id="__codelineno-19-40" name="__codelineno-19-40" href="#__codelineno-19-40"></a><span class="w">        </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-19-41"><a id="__codelineno-19-41" name="__codelineno-19-41" href="#__codelineno-19-41"></a><span class="w">        </span><span class="k">DEFAULT</span><span class="w">         </span><span class="c1">-- 使用默认值 0</span>
</span><span id="__span-19-42"><a id="__codelineno-19-42" name="__codelineno-19-42" href="#__codelineno-19-42"></a><span class="w">    </span><span class="p">);</span>
</span></code></pre></div>
<hr />
<h2 id="3">练习3：文章审核表</h2>
<p>创建一个 <code>article_audit</code> 表用于文章审核跟踪，要求：</p>
<ul>
<li>文章ID（article_id）：整数，不能为空 自动增长</li>
<li>审核状态（audit_status）：枚举类型：'pending','approved','rejected'</li>
<li>提交审核时间（submitted_at）：自动记录插入时间）</li>
<li>最后状态更新时间（last_updated）</li>
</ul>
<p><strong>参考答案</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">article_audit</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="n">article_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="n">audit_status</span><span class="w"> </span><span class="n">ENUM</span><span class="p">(</span><span class="s1">&#39;pending&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;approved&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;rejected&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="n">submitted_at</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="n">last_updated</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="p">;</span>
</span></code></pre></div>
<hr />
<h2 id="8">练习8:国际航班时刻表</h2>
<p>创建一个国际航班时刻表 <code>flight_schedule</code>，包含：</p>
<ul>
<li>航班号（flight_no）：字符串，主键，如 "CA123"</li>
<li>出发地时区（departure_timezone）：格式：'UTC+8:00' 的字符串）</li>
<li>本地起飞时间（local_departure_time）：精确到分钟的时间类型）</li>
<li>飞行时长（flight_duration）：小时+分钟的组合，如 02:30 表示2小时30分</li>
<li>年份（year）：仅存储年份值</li>
</ul>
<p><strong>参考答案</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">flight_schedule</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="n">flight_no</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="n">departure_timezone</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- 如 &#39;UTC+3:30&#39;</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="n">local_departure_time</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">      </span><span class="c1">-- 存储时分</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span><span class="n">flight_duration</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">           </span><span class="c1">-- 如 &#39;02:30&#39;</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span><span class="k">year</span><span class="w"> </span><span class="k">YEAR</span><span class="w"> </span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="p">)</span><span class="w"> </span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">flight_schedule</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="n">flight_no</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;主键，格式如CA123&#39;</span><span class="p">,</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">    </span><span class="n">departure_timezone</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;时区格式UTC±HH:MM&#39;</span><span class="p">,</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span><span class="n">local_departure_time</span><span class="w"> </span><span class="k">TIME</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;精确到分钟（如14:30）&#39;</span><span class="p">,</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">    </span><span class="n">flight_duration</span><span class="w"> </span><span class="k">TIME</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;飞行时长（如02:30）&#39;</span><span class="p">,</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">    </span><span class="k">year</span><span class="w"> </span><span class="k">YEAR</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;年份值&#39;</span><span class="p">,</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="w">    </span><span class="c1">-- 约束验证</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="w">    </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="w">        </span><span class="n">departure_timezone</span><span class="w"> </span><span class="n">REGEXP</span><span class="w"> </span><span class="s1">&#39;^UTC[+-][0-1][0-9]:[0-5][0-9]$&#39;</span><span class="w"> </span><span class="k">AND</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="w">        </span><span class="n">flight_duration</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="s1">&#39;00:01:00&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="s1">&#39;23:59:00&#39;</span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="w">    </span><span class="p">)</span>
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>
</span></code></pre></div>
<h2 id="5">练习5:创建文章审核表</h2>
<p>创建一个 <code>article_audit</code> 表用于文章审核跟踪，要求：</p>
<ul>
<li>文章ID（article_id）：整数，不能为空 自动增长</li>
<li>审核状态（audit_status）：枚举类型：'pending','approved','rejected'</li>
<li>提交审核时间（submitted_at）：自动记录插入时间）</li>
<li>最后状态更新时间（last_updated）</li>
</ul>
<p><strong>参考答案</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">article_audit</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="n">article_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="n">audit_status</span><span class="w"> </span><span class="n">ENUM</span><span class="p">(</span><span class="s1">&#39;pending&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;approved&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;rejected&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="n">submitted_at</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="n">last_updated</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="p">;</span>
</span></code></pre></div>
<h2 id="6">练习6:创建航班时刻表</h2>
<p>创建一个国际航班时刻表 <code>flight_schedule</code>，包含：</p>
<ul>
<li>航班号（flight_no）：字符串，主键，如 "CA123"</li>
<li>出发地时区（departure_timezone）：格式：'UTC+8:00' 的字符串）</li>
<li>本地起飞时间（local_departure_time）：精确到分钟的时间类型）</li>
<li>飞行时长（flight_duration）：小时+分钟的组合，如 02:30 表示2小时30分</li>
<li>年份（year）：仅存储年份值</li>
</ul>
<p><strong>参考答案</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">flight_schedule</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="n">flight_no</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="n">departure_timezone</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- 如 &#39;UTC+3:30&#39;</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="n">local_departure_time</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">      </span><span class="c1">-- 存储时分</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="n">flight_duration</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">           </span><span class="c1">-- 如 &#39;02:30&#39;</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">    </span><span class="k">year</span><span class="w"> </span><span class="k">YEAR</span><span class="w"> </span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="p">)</span><span class="w"> </span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">flight_schedule</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">    </span><span class="n">flight_no</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;主键，格式如CA123&#39;</span><span class="p">,</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">    </span><span class="n">departure_timezone</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;时区格式UTC±HH:MM&#39;</span><span class="p">,</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">    </span><span class="n">local_departure_time</span><span class="w"> </span><span class="k">TIME</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;精确到分钟（如14:30）&#39;</span><span class="p">,</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">    </span><span class="n">flight_duration</span><span class="w"> </span><span class="k">TIME</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;飞行时长（如02:30）&#39;</span><span class="p">,</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">    </span><span class="k">year</span><span class="w"> </span><span class="k">YEAR</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;年份值&#39;</span><span class="p">,</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">    </span><span class="c1">-- 约束验证</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">    </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="w">        </span><span class="n">departure_timezone</span><span class="w"> </span><span class="n">REGEXP</span><span class="w"> </span><span class="s1">&#39;^UTC[+-][0-1][0-9]:[0-5][0-9]$&#39;</span><span class="w"> </span><span class="k">AND</span>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="w">        </span><span class="n">flight_duration</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="s1">&#39;00:01:00&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="s1">&#39;23:59:00&#39;</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">    </span><span class="p">)</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>
</span></code></pre></div>
<h2 id="7">练习7:订单表</h2>
<p>需求：创建一个订单表orders1，要求订单的 <strong>开始日期不晚于结束日期</strong>：</p>
<ul>
<li>订单id（order_id）：整型、主键、自动增长</li>
<li>商品名（p_name）: 非空 最多100个字符 </li>
<li>单价（price）: 必须&gt;=0，精确到小数点后2位</li>
<li>订单开始日期（start_date）：日期</li>
<li>订单结束日期（end_date）：日期 </li>
<li>check(s_date &lt;= e_date)</li>
</ul>
<p>代码</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">-- 建表</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">order_check</span><span class="p">(</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">p_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="n">price</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">s_date</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="p">(</span><span class="k">CURRENT_DATE</span><span class="p">),</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">e_date</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="p">(</span><span class="k">CURRENT_DATE</span><span class="p">)</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="c1">-- 插入数据测试</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">order_check</span><span class="p">(</span><span class="n">p_name</span><span class="p">,</span><span class="n">price</span><span class="p">,</span><span class="n">s_date</span><span class="p">,</span><span class="n">e_date</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;大宝洗面奶&#39;</span><span class="p">,</span><span class="mi">9</span><span class="p">.</span><span class="mi">9</span><span class="p">,</span><span class="s1">&#39;2025-05-10&#39;</span><span class="p">,</span><span class="s1">&#39;2025-05-12&#39;</span><span class="p">);</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="c1">-- 语法（列级约束条件）</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="err">表名</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="err">列名</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="err">条件表达式</span><span class="p">);</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="c1">-- 示例</span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="n">price</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="c1">-- 语法（表级约束条件）</span>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="err">表名</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="err">条件表达式</span><span class="p">);</span>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="c1">--示例</span>
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">order_check</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="k">check</span><span class="p">(</span><span class="n">s_date</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">e_date</span><span class="p">);</span>
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a>
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="c1">-- 查询所有月日为 &#39;07-01&#39; 的项目</span>
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">projects</span><span class="w"> </span>
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">start_month_day</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;%m-%d&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;07-01&#39;</span><span class="p">;</span>
</span></code></pre></div>
<p>知识点：</p>
<ol>
<li>表级约束：如果约束条件建立在多列之上，要把check约束条件单独写在一行。</li>
<li>CURRENT_DATE() 为了保持和CURRENT_TIMESTAMP风格一致，可以不写小括号。</li>
<li>MySQL 8.0.13+版本支持将函数作为默认值，MySQL8.0.13以下版本不支持。</li>
<li>CURRENT_DATE作为默认值出现必须添加小括号：DEFAULT (CURRENT_DATE) </li>
</ol>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - 2025 村长 <a href="https://beian.mps.gov.cn/#/query/webSearch?code=13040202001048" target="_blank">冀公网安备13040202001048号</a><a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">冀ICP备2025101972号-1</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
    
    
    
      
      
    
    <a href="https://fosstodon.org/@squidfunk" target="_blank" rel="noopener me" title="fosstodon.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.5 102.5 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5m-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.expand", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.prune", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "content.code.copy", "content.code.select"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>